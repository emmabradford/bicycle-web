{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.timeline_month.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _component_registrator = _interopRequireDefault(require(\"../../../core/component_registrator\"));\n\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.timeline\"));\n\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar TIMELINE_CLASS = \"dx-scheduler-timeline-month\";\nvar DAY_IN_MILLISECONDS = 864e5;\nvar toMs = _date.default.dateToMilliseconds;\n\nvar SchedulerTimelineMonth = function (_SchedulerTimeline) {\n  _inheritsLoose(SchedulerTimelineMonth, _SchedulerTimeline);\n\n  function SchedulerTimelineMonth() {\n    return _SchedulerTimeline.apply(this, arguments) || this;\n  }\n\n  var _proto = SchedulerTimelineMonth.prototype;\n\n  _proto._renderView = function () {\n    _SchedulerTimeline.prototype._renderView.call(this);\n\n    this._updateScrollable();\n  };\n\n  _proto._getElementClass = function () {\n    return TIMELINE_CLASS;\n  };\n\n  _proto._getDateHeaderTemplate = function () {\n    return this.option(\"dateCellTemplate\");\n  };\n\n  _proto._getHiddenInterval = function () {\n    return 0;\n  };\n\n  _proto._calculateDurationInCells = function (timeDiff) {\n    return timeDiff / this.getCellDuration();\n  };\n\n  _proto.getCellDuration = function () {\n    return toMs(\"day\");\n  };\n\n  _proto.calculateEndViewDate = function (dateOfLastViewCell) {\n    return new Date(dateOfLastViewCell.getTime() + this._calculateDayDuration() * toMs(\"hour\"));\n  };\n\n  _proto.isIndicatorVisible = function () {\n    return true;\n  };\n\n  _proto._getCellCount = function () {\n    var currentDate = this.option(\"currentDate\");\n    var cellCount = 0;\n\n    if (this._isWorkSpaceWithCount()) {\n      var intervalCount = this.option(\"intervalCount\");\n\n      for (var i = 1; i <= intervalCount; i++) {\n        cellCount += new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 0).getDate();\n      }\n    } else {\n      cellCount = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();\n    }\n\n    return cellCount;\n  };\n\n  _proto._setFirstViewDate = function () {\n    this._firstViewDate = _date.default.getFirstMonthDate(this.option(\"currentDate\"));\n\n    this._setStartDayHour(this._firstViewDate);\n  };\n\n  _proto._getFormat = function () {\n    return this._formatWeekdayAndDay;\n  };\n\n  _proto._getDateByIndex = function (headerIndex) {\n    var resultDate = new Date(this._firstViewDate);\n    resultDate.setDate(this._firstViewDate.getDate() + headerIndex);\n    return resultDate;\n  };\n\n  _proto._getInterval = function () {\n    return DAY_IN_MILLISECONDS;\n  };\n\n  _proto._getIntervalBetween = function (currentDate) {\n    var firstViewDate = this.getStartViewDate();\n\n    var timeZoneOffset = _date.default.getTimezonesDifference(firstViewDate, currentDate);\n\n    return currentDate.getTime() - (firstViewDate.getTime() - 36e5 * this.option(\"startDayHour\")) - timeZoneOffset;\n  };\n\n  _proto.calculateEndDate = function (startDate) {\n    var startDateCopy = new Date(startDate);\n    return new Date(startDateCopy.setHours(this.option(\"endDayHour\")));\n  };\n\n  _proto._calculateHiddenInterval = function () {\n    return 0;\n  };\n\n  _proto._getDateByCellIndexes = function (rowIndex, cellIndex) {\n    var date = _SchedulerTimeline.prototype._getDateByCellIndexes.call(this, rowIndex, cellIndex);\n\n    this._setStartDayHour(date);\n\n    return date;\n  };\n\n  _proto.getPositionShift = function () {\n    return {\n      top: 0,\n      left: 0,\n      cellPosition: 0\n    };\n  };\n\n  return SchedulerTimelineMonth;\n}(_uiScheduler.default);\n\n(0, _component_registrator.default)(\"dxSchedulerTimelineMonth\", SchedulerTimelineMonth);\nvar _default = SchedulerTimelineMonth;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/workspaces/ui.scheduler.timeline_month.js"],"names":["exports","default","_component_registrator","_interopRequireDefault","require","_uiScheduler","_date","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","TIMELINE_CLASS","DAY_IN_MILLISECONDS","toMs","dateToMilliseconds","SchedulerTimelineMonth","_SchedulerTimeline","apply","arguments","_proto","_renderView","call","_updateScrollable","_getElementClass","_getDateHeaderTemplate","option","_getHiddenInterval","_calculateDurationInCells","timeDiff","getCellDuration","calculateEndViewDate","dateOfLastViewCell","Date","getTime","_calculateDayDuration","isIndicatorVisible","_getCellCount","currentDate","cellCount","_isWorkSpaceWithCount","intervalCount","i","getFullYear","getMonth","getDate","_setFirstViewDate","_firstViewDate","getFirstMonthDate","_setStartDayHour","_getFormat","_formatWeekdayAndDay","_getDateByIndex","headerIndex","resultDate","setDate","_getInterval","_getIntervalBetween","firstViewDate","getStartViewDate","timeZoneOffset","getTimezonesDifference","calculateEndDate","startDate","startDateCopy","setHours","_calculateHiddenInterval","_getDateByCellIndexes","rowIndex","cellIndex","date","getPositionShift","top","left","cellPosition","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/workspaces/ui.scheduler.timeline_month.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _component_registrator = _interopRequireDefault(require(\"../../../core/component_registrator\"));\r\nvar _uiScheduler = _interopRequireDefault(require(\"./ui.scheduler.timeline\"));\r\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar TIMELINE_CLASS = \"dx-scheduler-timeline-month\";\r\nvar DAY_IN_MILLISECONDS = 864e5;\r\nvar toMs = _date.default.dateToMilliseconds;\r\nvar SchedulerTimelineMonth = function(_SchedulerTimeline) {\r\n    _inheritsLoose(SchedulerTimelineMonth, _SchedulerTimeline);\r\n\r\n    function SchedulerTimelineMonth() {\r\n        return _SchedulerTimeline.apply(this, arguments) || this\r\n    }\r\n    var _proto = SchedulerTimelineMonth.prototype;\r\n    _proto._renderView = function() {\r\n        _SchedulerTimeline.prototype._renderView.call(this);\r\n        this._updateScrollable()\r\n    };\r\n    _proto._getElementClass = function() {\r\n        return TIMELINE_CLASS\r\n    };\r\n    _proto._getDateHeaderTemplate = function() {\r\n        return this.option(\"dateCellTemplate\")\r\n    };\r\n    _proto._getHiddenInterval = function() {\r\n        return 0\r\n    };\r\n    _proto._calculateDurationInCells = function(timeDiff) {\r\n        return timeDiff / this.getCellDuration()\r\n    };\r\n    _proto.getCellDuration = function() {\r\n        return toMs(\"day\")\r\n    };\r\n    _proto.calculateEndViewDate = function(dateOfLastViewCell) {\r\n        return new Date(dateOfLastViewCell.getTime() + this._calculateDayDuration() * toMs(\"hour\"))\r\n    };\r\n    _proto.isIndicatorVisible = function() {\r\n        return true\r\n    };\r\n    _proto._getCellCount = function() {\r\n        var currentDate = this.option(\"currentDate\");\r\n        var cellCount = 0;\r\n        if (this._isWorkSpaceWithCount()) {\r\n            var intervalCount = this.option(\"intervalCount\");\r\n            for (var i = 1; i <= intervalCount; i++) {\r\n                cellCount += new Date(currentDate.getFullYear(), currentDate.getMonth() + i, 0).getDate()\r\n            }\r\n        } else {\r\n            cellCount = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate()\r\n        }\r\n        return cellCount\r\n    };\r\n    _proto._setFirstViewDate = function() {\r\n        this._firstViewDate = _date.default.getFirstMonthDate(this.option(\"currentDate\"));\r\n        this._setStartDayHour(this._firstViewDate)\r\n    };\r\n    _proto._getFormat = function() {\r\n        return this._formatWeekdayAndDay\r\n    };\r\n    _proto._getDateByIndex = function(headerIndex) {\r\n        var resultDate = new Date(this._firstViewDate);\r\n        resultDate.setDate(this._firstViewDate.getDate() + headerIndex);\r\n        return resultDate\r\n    };\r\n    _proto._getInterval = function() {\r\n        return DAY_IN_MILLISECONDS\r\n    };\r\n    _proto._getIntervalBetween = function(currentDate) {\r\n        var firstViewDate = this.getStartViewDate();\r\n        var timeZoneOffset = _date.default.getTimezonesDifference(firstViewDate, currentDate);\r\n        return currentDate.getTime() - (firstViewDate.getTime() - 36e5 * this.option(\"startDayHour\")) - timeZoneOffset\r\n    };\r\n    _proto.calculateEndDate = function(startDate) {\r\n        var startDateCopy = new Date(startDate);\r\n        return new Date(startDateCopy.setHours(this.option(\"endDayHour\")))\r\n    };\r\n    _proto._calculateHiddenInterval = function() {\r\n        return 0\r\n    };\r\n    _proto._getDateByCellIndexes = function(rowIndex, cellIndex) {\r\n        var date = _SchedulerTimeline.prototype._getDateByCellIndexes.call(this, rowIndex, cellIndex);\r\n        this._setStartDayHour(date);\r\n        return date\r\n    };\r\n    _proto.getPositionShift = function() {\r\n        return {\r\n            top: 0,\r\n            left: 0,\r\n            cellPosition: 0\r\n        }\r\n    };\r\n    return SchedulerTimelineMonth\r\n}(_uiScheduler.default);\r\n(0, _component_registrator.default)(\"dxSchedulerTimelineMonth\", SchedulerTimelineMonth);\r\nvar _default = SchedulerTimelineMonth;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}