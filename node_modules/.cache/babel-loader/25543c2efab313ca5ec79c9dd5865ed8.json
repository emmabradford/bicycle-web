{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/timezones/utils.timezones_data.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _query = _interopRequireDefault(require(\"../../../data/query\"));\n\nvar _errors = _interopRequireDefault(require(\"../../../core/errors\"));\n\nvar _timezones_data = _interopRequireDefault(require(\"./timezones_data\"));\n\nvar _math = require(\"../../../core/utils/math\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar timeZoneDataUtils = {\n  _timeZones: _timezones_data.default.zones,\n  getDisplayedTimeZones: function getDisplayedTimeZones(timestamp) {\n    var _this = this;\n\n    var timeZones = this._timeZones.map(function (timezone) {\n      var offset = _this.getUtcOffset(timezone.offsets, timezone.offsetIndices, timezone.untils, timestamp);\n\n      var title = \"(GMT \".concat(_this.formatOffset(offset), \") \").concat(_this.formatId(timezone.id));\n      return {\n        offset: offset,\n        title: title,\n        id: timezone.id\n      };\n    });\n\n    return (0, _query.default)(timeZones).sortBy(\"offset\").toArray();\n  },\n  formatOffset: function formatOffset(offset) {\n    var hours = Math.floor(offset);\n    var minutesInDecimal = offset - hours;\n    var signString = (0, _math.sign)(offset) >= 0 ? \"+\" : \"-\";\n    var hoursString = \"0\".concat(Math.abs(hours)).slice(-2);\n    var minutesString = minutesInDecimal > 0 ? \":\".concat(60 * minutesInDecimal) : \":00\";\n    return signString + hoursString + minutesString;\n  },\n  formatId: function formatId(id) {\n    return id.split(\"/\").join(\" - \").split(\"_\").join(\" \");\n  },\n  getTimezoneById: function getTimezoneById(id) {\n    var result;\n    var i = 0;\n    var tzList = this._timeZones;\n\n    if (id) {\n      while (!result) {\n        if (!tzList[i]) {\n          _errors.default.log(\"W0009\", id);\n\n          return;\n        }\n\n        var currentId = tzList[i].id;\n\n        if (currentId === id) {\n          result = tzList[i];\n        }\n\n        i++;\n      }\n    }\n\n    return result;\n  },\n  getTimeZoneOffsetById: function getTimeZoneOffsetById(id, timestamp) {\n    var tz = this.getTimezoneById(id);\n\n    if (tz) {\n      return this.getUtcOffset(tz.offsets, tz.offsetIndices, tz.untils, timestamp);\n    }\n\n    return;\n  },\n  getTimeZoneDeclarationTuple: function getTimeZoneDeclarationTuple(id, year) {\n    var tz = this.getTimezoneById(id);\n\n    if (tz) {\n      return this.getTimeZoneDeclarationTupleCore(tz.offsets, tz.offsetIndices, tz.untils, year);\n    }\n\n    return [];\n  },\n  getTimeZoneDeclarationTupleCore: function getTimeZoneDeclarationTupleCore(offsets, offsetIndices, untils, year) {\n    var tupleResult = [];\n    var offsetIndicesList = offsetIndices.split(\"\");\n    var offsetsList = offsets.split(\"|\").map(function (value) {\n      return parseInt(value);\n    });\n    var untilsList = untils.split(\"|\").map(function (until) {\n      if (\"Infinity\" === until) {\n        return null;\n      }\n\n      return 1e3 * parseInt(until, 36);\n    });\n    var currentDate = 0;\n\n    for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\n      currentDate += untilsList[i];\n\n      if (new Date(currentDate).getFullYear() === year) {\n        var offset = offsetsList[Number(offsetIndicesList[i + 1])];\n        tupleResult.push({\n          date: currentDate,\n          offset: -offset / 60\n        });\n      }\n\n      if (new Date(currentDate).getFullYear() > year) {\n        break;\n      }\n    }\n\n    return tupleResult;\n  },\n  getUtcOffset: function getUtcOffset(offsets, offsetIndices, untils, dateTimeStamp) {\n    var index = 0;\n    var offsetIndicesList = offsetIndices.split(\"\");\n    var offsetsList = offsets.split(\"|\");\n    var untilsList = untils.split(\"|\").map(function (until) {\n      if (\"Infinity\" === until) {\n        return null;\n      }\n\n      return 1e3 * parseInt(until, 36);\n    });\n    var currentUntil = 0;\n\n    for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\n      currentUntil += untilsList[i];\n\n      if (dateTimeStamp >= currentUntil) {\n        index = i;\n        continue;\n      } else {\n        break;\n      }\n    }\n\n    if (untilsList[index + 1]) {\n      index++;\n    }\n\n    var offset = Number(offsetsList[Number(offsetIndicesList[index])]);\n    return -offset / 60 || offset;\n  }\n};\nvar _default = timeZoneDataUtils;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/timezones/utils.timezones_data.js"],"names":["exports","default","_query","_interopRequireDefault","require","_errors","_timezones_data","_math","obj","__esModule","timeZoneDataUtils","_timeZones","zones","getDisplayedTimeZones","timestamp","_this","timeZones","map","timezone","offset","getUtcOffset","offsets","offsetIndices","untils","title","concat","formatOffset","formatId","id","sortBy","toArray","hours","Math","floor","minutesInDecimal","signString","sign","hoursString","abs","slice","minutesString","split","join","getTimezoneById","result","i","tzList","log","currentId","getTimeZoneOffsetById","tz","getTimeZoneDeclarationTuple","year","getTimeZoneDeclarationTupleCore","tupleResult","offsetIndicesList","offsetsList","value","parseInt","untilsList","until","currentDate","listLength","length","Date","getFullYear","Number","push","date","dateTimeStamp","index","currentUntil","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/timezones/utils.timezones_data.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _query = _interopRequireDefault(require(\"../../../data/query\"));\r\nvar _errors = _interopRequireDefault(require(\"../../../core/errors\"));\r\nvar _timezones_data = _interopRequireDefault(require(\"./timezones_data\"));\r\nvar _math = require(\"../../../core/utils/math\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar timeZoneDataUtils = {\r\n    _timeZones: _timezones_data.default.zones,\r\n    getDisplayedTimeZones: function(timestamp) {\r\n        var _this = this;\r\n        var timeZones = this._timeZones.map(function(timezone) {\r\n            var offset = _this.getUtcOffset(timezone.offsets, timezone.offsetIndices, timezone.untils, timestamp);\r\n            var title = \"(GMT \".concat(_this.formatOffset(offset), \") \").concat(_this.formatId(timezone.id));\r\n            return {\r\n                offset: offset,\r\n                title: title,\r\n                id: timezone.id\r\n            }\r\n        });\r\n        return (0, _query.default)(timeZones).sortBy(\"offset\").toArray()\r\n    },\r\n    formatOffset: function(offset) {\r\n        var hours = Math.floor(offset);\r\n        var minutesInDecimal = offset - hours;\r\n        var signString = (0, _math.sign)(offset) >= 0 ? \"+\" : \"-\";\r\n        var hoursString = \"0\".concat(Math.abs(hours)).slice(-2);\r\n        var minutesString = minutesInDecimal > 0 ? \":\".concat(60 * minutesInDecimal) : \":00\";\r\n        return signString + hoursString + minutesString\r\n    },\r\n    formatId: function(id) {\r\n        return id.split(\"/\").join(\" - \").split(\"_\").join(\" \")\r\n    },\r\n    getTimezoneById: function(id) {\r\n        var result;\r\n        var i = 0;\r\n        var tzList = this._timeZones;\r\n        if (id) {\r\n            while (!result) {\r\n                if (!tzList[i]) {\r\n                    _errors.default.log(\"W0009\", id);\r\n                    return\r\n                }\r\n                var currentId = tzList[i].id;\r\n                if (currentId === id) {\r\n                    result = tzList[i]\r\n                }\r\n                i++\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    getTimeZoneOffsetById: function(id, timestamp) {\r\n        var tz = this.getTimezoneById(id);\r\n        if (tz) {\r\n            return this.getUtcOffset(tz.offsets, tz.offsetIndices, tz.untils, timestamp)\r\n        }\r\n        return\r\n    },\r\n    getTimeZoneDeclarationTuple: function(id, year) {\r\n        var tz = this.getTimezoneById(id);\r\n        if (tz) {\r\n            return this.getTimeZoneDeclarationTupleCore(tz.offsets, tz.offsetIndices, tz.untils, year)\r\n        }\r\n        return []\r\n    },\r\n    getTimeZoneDeclarationTupleCore: function(offsets, offsetIndices, untils, year) {\r\n        var tupleResult = [];\r\n        var offsetIndicesList = offsetIndices.split(\"\");\r\n        var offsetsList = offsets.split(\"|\").map(function(value) {\r\n            return parseInt(value)\r\n        });\r\n        var untilsList = untils.split(\"|\").map(function(until) {\r\n            if (\"Infinity\" === until) {\r\n                return null\r\n            }\r\n            return 1e3 * parseInt(until, 36)\r\n        });\r\n        var currentDate = 0;\r\n        for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\r\n            currentDate += untilsList[i];\r\n            if (new Date(currentDate).getFullYear() === year) {\r\n                var offset = offsetsList[Number(offsetIndicesList[i + 1])];\r\n                tupleResult.push({\r\n                    date: currentDate,\r\n                    offset: -offset / 60\r\n                })\r\n            }\r\n            if (new Date(currentDate).getFullYear() > year) {\r\n                break\r\n            }\r\n        }\r\n        return tupleResult\r\n    },\r\n    getUtcOffset: function(offsets, offsetIndices, untils, dateTimeStamp) {\r\n        var index = 0;\r\n        var offsetIndicesList = offsetIndices.split(\"\");\r\n        var offsetsList = offsets.split(\"|\");\r\n        var untilsList = untils.split(\"|\").map(function(until) {\r\n            if (\"Infinity\" === until) {\r\n                return null\r\n            }\r\n            return 1e3 * parseInt(until, 36)\r\n        });\r\n        var currentUntil = 0;\r\n        for (var i = 0, listLength = untilsList.length; i < listLength; i++) {\r\n            currentUntil += untilsList[i];\r\n            if (dateTimeStamp >= currentUntil) {\r\n                index = i;\r\n                continue\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        if (untilsList[index + 1]) {\r\n            index++\r\n        }\r\n        var offset = Number(offsetsList[Number(offsetIndicesList[index])]);\r\n        return -offset / 60 || offset\r\n    }\r\n};\r\nvar _default = timeZoneDataUtils;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}