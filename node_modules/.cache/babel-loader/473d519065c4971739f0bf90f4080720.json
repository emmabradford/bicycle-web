{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.MobileTooltipStrategy = void 0;\n\nvar _overlay = _interopRequireDefault(require(\"../../overlay\"));\n\nvar _tooltipStrategyBase = require(\"./tooltipStrategyBase\");\n\nvar _window = require(\"../../../core/utils/window\");\n\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar SLIDE_PANEL_CLASS_NAME = \"dx-scheduler-overlay-panel\";\nvar MAX_TABLET_OVERLAY_HEIGHT_FACTOR = .9;\nvar MAX_HEIGHT = {\n  PHONE: 250,\n  TABLET: \"90%\",\n  DEFAULT: \"auto\"\n};\nvar MAX_WIDTH = {\n  PHONE: \"100%\",\n  TABLET: \"80%\"\n};\nvar animationConfig = {\n  show: {\n    type: \"slide\",\n    duration: 300,\n    from: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: (0, _window.getWindow)()\n      }\n    },\n    to: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: (0, _window.getWindow)()\n      }\n    }\n  },\n  hide: {\n    type: \"slide\",\n    duration: 300,\n    to: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: (0, _window.getWindow)()\n      }\n    },\n    from: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: (0, _window.getWindow)()\n      }\n    }\n  }\n};\n\nvar createPhoneDeviceConfig = function createPhoneDeviceConfig(listHeight) {\n  return {\n    shading: false,\n    width: MAX_WIDTH.PHONE,\n    height: listHeight > MAX_HEIGHT.PHONE ? MAX_HEIGHT.PHONE : MAX_HEIGHT.DEFAULT,\n    position: {\n      my: \"bottom\",\n      at: \"bottom\",\n      of: (0, _window.getWindow)()\n    }\n  };\n};\n\nvar createTabletDeviceConfig = function createTabletDeviceConfig(listHeight) {\n  var currentMaxHeight = (0, _renderer.default)((0, _window.getWindow)()).height() * MAX_TABLET_OVERLAY_HEIGHT_FACTOR;\n  return {\n    shading: true,\n    width: MAX_WIDTH.TABLET,\n    height: listHeight > currentMaxHeight ? MAX_HEIGHT.TABLET : MAX_HEIGHT.DEFAULT,\n    position: {\n      my: \"center\",\n      at: \"center\",\n      of: (0, _window.getWindow)()\n    }\n  };\n};\n\nvar MobileTooltipStrategy = function (_TooltipStrategyBase) {\n  _inheritsLoose(MobileTooltipStrategy, _TooltipStrategyBase);\n\n  function MobileTooltipStrategy() {\n    return _TooltipStrategyBase.apply(this, arguments) || this;\n  }\n\n  var _proto = MobileTooltipStrategy.prototype;\n\n  _proto._shouldUseTarget = function () {\n    return false;\n  };\n\n  _proto._onShowing = function () {\n    var isTabletWidth = (0, _renderer.default)((0, _window.getWindow)()).width() > 700;\n\n    this._tooltip.option(\"height\", MAX_HEIGHT.DEFAULT);\n\n    var listHeight = this._list.$element().outerHeight();\n\n    this._tooltip.option(isTabletWidth ? createTabletDeviceConfig(listHeight) : createPhoneDeviceConfig(listHeight));\n  };\n\n  _proto._createTooltip = function (target, dataList) {\n    var _this = this;\n\n    var element = this._createTooltipElement(SLIDE_PANEL_CLASS_NAME);\n\n    return this._options.createComponent(element, _overlay.default, {\n      target: (0, _window.getWindow)(),\n      closeOnOutsideClick: true,\n      animation: animationConfig,\n      onShowing: function onShowing() {\n        return _this._onShowing();\n      },\n      onShown: this._onShown.bind(this),\n      contentTemplate: this._getContentTemplate(dataList)\n    });\n  };\n\n  return MobileTooltipStrategy;\n}(_tooltipStrategyBase.TooltipStrategyBase);\n\nexports.MobileTooltipStrategy = MobileTooltipStrategy;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js"],"names":["exports","MobileTooltipStrategy","_overlay","_interopRequireDefault","require","_tooltipStrategyBase","_window","_renderer","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","SLIDE_PANEL_CLASS_NAME","MAX_TABLET_OVERLAY_HEIGHT_FACTOR","MAX_HEIGHT","PHONE","TABLET","DEFAULT","MAX_WIDTH","animationConfig","show","type","duration","from","position","my","at","of","getWindow","to","hide","createPhoneDeviceConfig","listHeight","shading","width","height","createTabletDeviceConfig","currentMaxHeight","default","_TooltipStrategyBase","apply","arguments","_proto","_shouldUseTarget","_onShowing","isTabletWidth","_tooltip","option","_list","$element","outerHeight","_createTooltip","target","dataList","_this","element","_createTooltipElement","_options","createComponent","closeOnOutsideClick","animation","onShowing","onShown","_onShown","bind","contentTemplate","_getContentTemplate","TooltipStrategyBase"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.MobileTooltipStrategy = void 0;\r\nvar _overlay = _interopRequireDefault(require(\"../../overlay\"));\r\nvar _tooltipStrategyBase = require(\"./tooltipStrategyBase\");\r\nvar _window = require(\"../../../core/utils/window\");\r\nvar _renderer = _interopRequireDefault(require(\"../../../core/renderer\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar SLIDE_PANEL_CLASS_NAME = \"dx-scheduler-overlay-panel\";\r\nvar MAX_TABLET_OVERLAY_HEIGHT_FACTOR = .9;\r\nvar MAX_HEIGHT = {\r\n    PHONE: 250,\r\n    TABLET: \"90%\",\r\n    DEFAULT: \"auto\"\r\n};\r\nvar MAX_WIDTH = {\r\n    PHONE: \"100%\",\r\n    TABLET: \"80%\"\r\n};\r\nvar animationConfig = {\r\n    show: {\r\n        type: \"slide\",\r\n        duration: 300,\r\n        from: {\r\n            position: {\r\n                my: \"top\",\r\n                at: \"bottom\",\r\n                of: (0, _window.getWindow)()\r\n            }\r\n        },\r\n        to: {\r\n            position: {\r\n                my: \"center\",\r\n                at: \"center\",\r\n                of: (0, _window.getWindow)()\r\n            }\r\n        }\r\n    },\r\n    hide: {\r\n        type: \"slide\",\r\n        duration: 300,\r\n        to: {\r\n            position: {\r\n                my: \"top\",\r\n                at: \"bottom\",\r\n                of: (0, _window.getWindow)()\r\n            }\r\n        },\r\n        from: {\r\n            position: {\r\n                my: \"center\",\r\n                at: \"center\",\r\n                of: (0, _window.getWindow)()\r\n            }\r\n        }\r\n    }\r\n};\r\nvar createPhoneDeviceConfig = function(listHeight) {\r\n    return {\r\n        shading: false,\r\n        width: MAX_WIDTH.PHONE,\r\n        height: listHeight > MAX_HEIGHT.PHONE ? MAX_HEIGHT.PHONE : MAX_HEIGHT.DEFAULT,\r\n        position: {\r\n            my: \"bottom\",\r\n            at: \"bottom\",\r\n            of: (0, _window.getWindow)()\r\n        }\r\n    }\r\n};\r\nvar createTabletDeviceConfig = function(listHeight) {\r\n    var currentMaxHeight = (0, _renderer.default)((0, _window.getWindow)()).height() * MAX_TABLET_OVERLAY_HEIGHT_FACTOR;\r\n    return {\r\n        shading: true,\r\n        width: MAX_WIDTH.TABLET,\r\n        height: listHeight > currentMaxHeight ? MAX_HEIGHT.TABLET : MAX_HEIGHT.DEFAULT,\r\n        position: {\r\n            my: \"center\",\r\n            at: \"center\",\r\n            of: (0, _window.getWindow)()\r\n        }\r\n    }\r\n};\r\nvar MobileTooltipStrategy = function(_TooltipStrategyBase) {\r\n    _inheritsLoose(MobileTooltipStrategy, _TooltipStrategyBase);\r\n\r\n    function MobileTooltipStrategy() {\r\n        return _TooltipStrategyBase.apply(this, arguments) || this\r\n    }\r\n    var _proto = MobileTooltipStrategy.prototype;\r\n    _proto._shouldUseTarget = function() {\r\n        return false\r\n    };\r\n    _proto._onShowing = function() {\r\n        var isTabletWidth = (0, _renderer.default)((0, _window.getWindow)()).width() > 700;\r\n        this._tooltip.option(\"height\", MAX_HEIGHT.DEFAULT);\r\n        var listHeight = this._list.$element().outerHeight();\r\n        this._tooltip.option(isTabletWidth ? createTabletDeviceConfig(listHeight) : createPhoneDeviceConfig(listHeight))\r\n    };\r\n    _proto._createTooltip = function(target, dataList) {\r\n        var _this = this;\r\n        var element = this._createTooltipElement(SLIDE_PANEL_CLASS_NAME);\r\n        return this._options.createComponent(element, _overlay.default, {\r\n            target: (0, _window.getWindow)(),\r\n            closeOnOutsideClick: true,\r\n            animation: animationConfig,\r\n            onShowing: function() {\r\n                return _this._onShowing()\r\n            },\r\n            onShown: this._onShown.bind(this),\r\n            contentTemplate: this._getContentTemplate(dataList)\r\n        })\r\n    };\r\n    return MobileTooltipStrategy\r\n}(_tooltipStrategyBase.TooltipStrategyBase);\r\nexports.MobileTooltipStrategy = MobileTooltipStrategy;\r\n"]},"metadata":{},"sourceType":"script"}