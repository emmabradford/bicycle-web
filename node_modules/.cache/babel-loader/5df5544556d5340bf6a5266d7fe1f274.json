{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.base.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _uiSchedulerAppointmentsPositioningStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointmentsPositioning.strategy.base\"));\n\nvar _uiSchedulerAppointmentsPositioningStrategy2 = _interopRequireDefault(require(\"./ui.scheduler.appointmentsPositioning.strategy.adaptive\"));\n\nvar _extend = require(\"../../../core/utils/extend\");\n\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\n\nvar _type = require(\"../../../core/utils/type\");\n\nvar _themes = require(\"../../themes\");\n\nvar _utils = _interopRequireDefault(require(\"../utils.timeZone\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar toMs = _date.default.dateToMilliseconds;\nvar APPOINTMENT_MIN_SIZE = 2;\nvar APPOINTMENT_DEFAULT_HEIGHT = 20;\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_HEIGHT = 18;\nvar DROP_DOWN_BUTTON_ADAPTIVE_SIZE = 28;\n\nvar BaseRenderingStrategy = function () {\n  function BaseRenderingStrategy(instance) {\n    this.instance = instance;\n\n    this._initPositioningStrategy();\n  }\n\n  var _proto = BaseRenderingStrategy.prototype;\n\n  _proto._isAdaptive = function () {\n    return this.instance.fire(\"isAdaptive\");\n  };\n\n  _proto._correctCollectorCoordinatesInAdaptive = function (coordinates, isAllDay) {\n    coordinates.top = coordinates.top + this.getCollectorTopOffset(isAllDay);\n    coordinates.left = coordinates.left + this.getCollectorLeftOffset();\n  };\n\n  _proto._initPositioningStrategy = function () {\n    this._positioningStrategy = this._isAdaptive() ? new _uiSchedulerAppointmentsPositioningStrategy2.default(this) : new _uiSchedulerAppointmentsPositioningStrategy.default(this);\n  };\n\n  _proto.getPositioningStrategy = function () {\n    return this._positioningStrategy;\n  };\n\n  _proto.getAppointmentMinSize = function () {\n    return APPOINTMENT_MIN_SIZE;\n  };\n\n  _proto.keepAppointmentSettings = function () {\n    return false;\n  };\n\n  _proto.getDeltaTime = function () {};\n\n  _proto.getAppointmentGeometry = function (coordinates) {\n    return coordinates;\n  };\n\n  _proto.needCorrectAppointmentDates = function () {\n    return true;\n  };\n\n  _proto.getDirection = function () {\n    return \"horizontal\";\n  };\n\n  _proto.createTaskPositionMap = function (items) {\n    delete this._maxAppointmentCountPerCell;\n    var length = items && items.length;\n\n    if (!length) {\n      return;\n    }\n\n    this._defaultWidth = this.instance.fire(\"getCellWidth\");\n    this._defaultHeight = this.instance.fire(\"getCellHeight\");\n    this._allDayHeight = this.instance._allDayCellHeight;\n    var map = [];\n\n    for (var i = 0; i < length; i++) {\n      var coordinates = this._getItemPosition(items[i]);\n\n      if (this._isRtl()) {\n        coordinates = this._correctRtlCoordinates(coordinates);\n      }\n\n      map.push(coordinates);\n    }\n\n    var positionArray = this._getSortedPositions(map);\n\n    var resultPositions = this._getResultPositions(positionArray);\n\n    return this._getExtendedPositionMap(map, resultPositions);\n  };\n\n  _proto._getDeltaWidth = function (args, initialSize) {\n    var intervalWidth = this.instance.fire(\"getResizableStep\") || this.getAppointmentMinSize();\n    var initialWidth = initialSize.width;\n    return Math.round((args.width - initialWidth) / intervalWidth);\n  };\n\n  _proto._correctRtlCoordinates = function (coordinates) {\n    var width = coordinates[0].width || this._getAppointmentMaxWidth();\n\n    coordinates.forEach(function (coordinate) {\n      if (!coordinate.appointmentReduced) {\n        coordinate.left -= width;\n      }\n    });\n    return coordinates;\n  };\n\n  _proto._getAppointmentMaxWidth = function () {\n    return this.getDefaultCellWidth();\n  };\n\n  _proto._getItemPosition = function (appointment) {\n    var position = this._getAppointmentCoordinates(appointment);\n\n    var allDay = this.isAllDay(appointment);\n    var result = [];\n\n    for (var j = 0; j < position.length; j++) {\n      var height = this.calculateAppointmentHeight(appointment, position[j]);\n      var width = this.calculateAppointmentWidth(appointment, position[j]);\n      var resultWidth = width;\n      var appointmentReduced = null;\n      var multiWeekAppointmentParts = [];\n      var initialRowIndex = position[j].rowIndex;\n      var initialCellIndex = position[j].cellIndex;\n\n      if (this._needVerifyItemSize() || allDay) {\n        var currentMaxAllowedPosition = position[j].hMax;\n\n        if (this.isAppointmentGreaterThan(currentMaxAllowedPosition, {\n          left: position[j].left,\n          width: width\n        })) {\n          appointmentReduced = \"head\";\n          initialRowIndex = position[j].rowIndex;\n          initialCellIndex = position[j].cellIndex;\n          resultWidth = this._reduceMultiWeekAppointment(width, {\n            left: position[j].left,\n            right: currentMaxAllowedPosition\n          });\n          multiWeekAppointmentParts = this._getAppointmentParts({\n            sourceAppointmentWidth: width,\n            reducedWidth: resultWidth,\n            height: height\n          }, position[j]);\n\n          if (this._isRtl()) {\n            position[j].left = currentMaxAllowedPosition;\n          }\n        }\n      }\n\n      (0, _extend.extend)(position[j], {\n        height: height,\n        width: resultWidth,\n        allDay: allDay,\n        rowIndex: initialRowIndex,\n        cellIndex: initialCellIndex,\n        appointmentReduced: appointmentReduced\n      });\n      result = this._getAppointmentPartsPosition(multiWeekAppointmentParts, position[j], result);\n    }\n\n    return result;\n  };\n\n  _proto._getAppointmentPartsPosition = function (appointmentParts, position, result) {\n    if (appointmentParts.length) {\n      appointmentParts.unshift(position);\n      result = result.concat(appointmentParts);\n    } else {\n      result.push(position);\n    }\n\n    return result;\n  };\n\n  _proto._getAppointmentCoordinates = function (appointment) {\n    return this.instance.fire(\"createAppointmentSettings\", appointment);\n  };\n\n  _proto._isRtl = function () {\n    return this.instance.option(\"rtlEnabled\");\n  };\n\n  _proto._getAppointmentParts = function () {\n    return [];\n  };\n\n  _proto._getCompactAppointmentParts = function (appointmentWidth) {\n    var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\n    return Math.round(appointmentWidth / cellWidth);\n  };\n\n  _proto._reduceMultiWeekAppointment = function (sourceAppointmentWidth, bound) {\n    if (this._isRtl()) {\n      sourceAppointmentWidth = Math.floor(bound.left - bound.right);\n    } else {\n      sourceAppointmentWidth = bound.right - Math.floor(bound.left);\n    }\n\n    return sourceAppointmentWidth;\n  };\n\n  _proto.calculateAppointmentHeight = function () {\n    return 0;\n  };\n\n  _proto.calculateAppointmentWidth = function () {\n    return 0;\n  };\n\n  _proto.isAppointmentGreaterThan = function (etalon, comparisonParameters) {\n    var result = comparisonParameters.left + comparisonParameters.width - etalon;\n\n    if (this._isRtl()) {\n      result = etalon + comparisonParameters.width - comparisonParameters.left;\n    }\n\n    return result > this.getDefaultCellWidth() / 2;\n  };\n\n  _proto.isAllDay = function () {\n    return false;\n  };\n\n  _proto.cropAppointmentWidth = function (width, cellWidth) {\n    if (this.instance.fire(\"isGroupedByDate\")) {\n      width = cellWidth;\n    }\n\n    return width;\n  };\n\n  _proto._getSortedPositions = function (positionList) {\n    var _this = this;\n\n    var result = [];\n\n    var round = function round(value) {\n      return Math.round(100 * value) / 100;\n    };\n\n    var createItem = function createItem(rowIndex, cellIndex, top, left, bottom, right, position, allDay) {\n      return {\n        i: rowIndex,\n        j: cellIndex,\n        top: round(top),\n        left: round(left),\n        bottom: round(bottom),\n        right: round(right),\n        cellPosition: position,\n        allDay: allDay\n      };\n    };\n\n    for (var rowIndex = 0, rowCount = positionList.length; rowIndex < rowCount; rowIndex++) {\n      for (var cellIndex = 0, cellCount = positionList[rowIndex].length; cellIndex < cellCount; cellIndex++) {\n        var _positionList$rowInde = positionList[rowIndex][cellIndex],\n            top = _positionList$rowInde.top,\n            left = _positionList$rowInde.left,\n            height = _positionList$rowInde.height,\n            width = _positionList$rowInde.width,\n            cellPosition = _positionList$rowInde.cellPosition,\n            allDay = _positionList$rowInde.allDay;\n        result.push(createItem(rowIndex, cellIndex, top, left, top + height, left + width, cellPosition, allDay));\n      }\n    }\n\n    return result.sort(function (a, b) {\n      return _this._sortCondition(a, b);\n    });\n  };\n\n  _proto._sortCondition = function () {};\n\n  _proto._getConditions = function (a, b) {\n    var isSomeEdge = this._isSomeEdge(a, b);\n\n    return {\n      columnCondition: isSomeEdge || this._normalizeCondition(a.left, b.left),\n      rowCondition: isSomeEdge || this._normalizeCondition(a.top, b.top),\n      cellPositionCondition: isSomeEdge || this._normalizeCondition(a.cellPosition, b.cellPosition)\n    };\n  };\n\n  _proto._rowCondition = function (a, b) {\n    var conditions = this._getConditions(a, b);\n\n    return conditions.columnCondition || conditions.rowCondition;\n  };\n\n  _proto._columnCondition = function (a, b) {\n    var conditions = this._getConditions(a, b);\n\n    return conditions.rowCondition || conditions.columnCondition;\n  };\n\n  _proto._isSomeEdge = function (a, b) {\n    return a.i === b.i && a.j === b.j;\n  };\n\n  _proto._normalizeCondition = function (first, second) {\n    var result = first - second;\n    return Math.abs(result) > 1 ? result : 0;\n  };\n\n  _proto._isItemsCross = function (firstItem, secondItem) {\n    var areItemsInTheSameTable = !!firstItem.allDay === !!secondItem.allDay;\n    var areItemsAllDay = firstItem.allDay && secondItem.allDay;\n\n    if (areItemsInTheSameTable) {\n      var orientation = this._getOrientation(areItemsAllDay);\n\n      return this._checkItemsCrossing(firstItem, secondItem, orientation);\n    } else {\n      return false;\n    }\n  };\n\n  _proto._checkItemsCrossing = function (firstItem, secondItem, orientation) {\n    var firstItemSide_1 = Math.floor(firstItem[orientation[0]]);\n    var firstItemSide_2 = Math.floor(firstItem[orientation[1]]);\n    var secondItemSide_1 = Math.ceil(secondItem[orientation[0]]);\n    var secondItemSide_2 = Math.ceil(secondItem[orientation[1]]);\n    var isItemCross = Math.abs(firstItem[orientation[2]] - secondItem[orientation[2]]) <= 1;\n    return isItemCross && (firstItemSide_1 <= secondItemSide_1 && firstItemSide_2 > secondItemSide_1 || firstItemSide_1 < secondItemSide_2 && firstItemSide_2 >= secondItemSide_2 || firstItemSide_1 === secondItemSide_1 && firstItemSide_2 === secondItemSide_2);\n  };\n\n  _proto._getOrientation = function (isAllDay) {\n    return isAllDay ? [\"left\", \"right\", \"top\"] : [\"top\", \"bottom\", \"left\"];\n  };\n\n  _proto._getResultPositions = function (sortedArray) {\n    var _this2 = this;\n\n    var result = [];\n    var i;\n    var sortedIndex = 0;\n    var currentItem;\n    var indexes;\n    var itemIndex;\n    var maxIndexInStack = 0;\n    var stack = {};\n\n    var findFreeIndex = function findFreeIndex(indexes, index) {\n      var isFind = indexes.some(function (item) {\n        return item === index;\n      });\n\n      if (isFind) {\n        return findFreeIndex(indexes, ++index);\n      } else {\n        return index;\n      }\n    };\n\n    var createItem = function createItem(currentItem, index) {\n      var currentIndex = index || 0;\n      return {\n        index: currentIndex,\n        i: currentItem.i,\n        j: currentItem.j,\n        left: currentItem.left,\n        right: currentItem.right,\n        top: currentItem.top,\n        bottom: currentItem.bottom,\n        allDay: currentItem.allDay,\n        sortedIndex: _this2._skipSortedIndex(currentIndex) ? null : sortedIndex++\n      };\n    };\n\n    var startNewStack = function startNewStack(currentItem) {\n      stack.items = [createItem(currentItem)];\n      stack.left = currentItem.left;\n      stack.right = currentItem.right;\n      stack.top = currentItem.top;\n      stack.bottom = currentItem.bottom;\n      stack.allDay = currentItem.allDay;\n    };\n\n    var pushItemsInResult = function pushItemsInResult(items) {\n      items.forEach(function (item) {\n        result.push({\n          index: item.index,\n          count: maxIndexInStack + 1,\n          i: item.i,\n          j: item.j,\n          sortedIndex: item.sortedIndex\n        });\n      });\n    };\n\n    for (i = 0; i < sortedArray.length; i++) {\n      currentItem = sortedArray[i];\n      indexes = [];\n\n      if (!stack.items) {\n        startNewStack(currentItem);\n      } else {\n        if (this._isItemsCross(stack, currentItem)) {\n          stack.items.forEach(function (item, index) {\n            if (_this2._isItemsCross(item, currentItem)) {\n              indexes.push(item.index);\n            }\n          });\n          itemIndex = indexes.length ? findFreeIndex(indexes, 0) : 0;\n          stack.items.push(createItem(currentItem, itemIndex));\n          maxIndexInStack = Math.max(itemIndex, maxIndexInStack);\n          stack.left = Math.min(stack.left, currentItem.left);\n          stack.right = Math.max(stack.right, currentItem.right);\n          stack.top = Math.min(stack.top, currentItem.top);\n          stack.bottom = Math.max(stack.bottom, currentItem.bottom);\n          stack.allDay = currentItem.allDay;\n        } else {\n          pushItemsInResult(stack.items);\n          stack = {};\n          startNewStack(currentItem);\n          maxIndexInStack = 0;\n        }\n      }\n    }\n\n    if (stack.items) {\n      pushItemsInResult(stack.items);\n    }\n\n    return result.sort(function (a, b) {\n      var columnCondition = a.j - b.j;\n      var rowCondition = a.i - b.i;\n      return rowCondition ? rowCondition : columnCondition;\n    });\n  };\n\n  _proto._skipSortedIndex = function (index) {\n    return index > this._getMaxAppointmentCountPerCell() - 1;\n  };\n\n  _proto._findIndexByKey = function (arr, iKey, jKey, iValue, jValue) {\n    var result = 0;\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (arr[i][iKey] === iValue && arr[i][jKey] === jValue) {\n        result = i;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  _proto._getExtendedPositionMap = function (map, positions) {\n    var positionCounter = 0;\n    var result = [];\n\n    for (var i = 0, mapLength = map.length; i < mapLength; i++) {\n      var resultString = [];\n\n      for (var j = 0, itemLength = map[i].length; j < itemLength; j++) {\n        map[i][j].index = positions[positionCounter].index;\n        map[i][j].sortedIndex = positions[positionCounter].sortedIndex;\n        map[i][j].count = positions[positionCounter++].count;\n        resultString.push(map[i][j]);\n\n        this._checkLongCompactAppointment(map[i][j], resultString);\n      }\n\n      result.push(resultString);\n    }\n\n    return result;\n  };\n\n  _proto._checkLongCompactAppointment = function (item, result) {\n    this._splitLongCompactAppointment(item, result);\n\n    return result;\n  };\n\n  _proto._splitLongCompactAppointment = function (item, result) {\n    var appointmentCountPerCell = this._getMaxAppointmentCountPerCellByType(item.allDay);\n\n    var compactCount = 0;\n\n    if (void 0 !== appointmentCountPerCell && item.index > appointmentCountPerCell - 1) {\n      item.isCompact = true;\n      compactCount = this._getCompactAppointmentParts(item.width);\n\n      for (var k = 1; k < compactCount; k++) {\n        var compactPart = (0, _extend.extend)(true, {}, item);\n        compactPart.left = this._getCompactLeftCoordinate(item.left, k);\n        compactPart.cellIndex = compactPart.cellIndex + k;\n        compactPart.sortedIndex = null;\n        result.push(compactPart);\n      }\n    }\n\n    return result;\n  };\n\n  _proto.normalizeEndDateByViewEnd = function (appointment, endDate) {\n    var result = new Date(endDate.getTime());\n\n    if (!this.isAllDay(appointment)) {\n      var viewEndDate = _date.default.roundToHour(this.instance.fire(\"getEndViewDate\"));\n\n      if (result > viewEndDate) {\n        result = viewEndDate;\n      }\n    }\n\n    var endDayHour = this.instance._getCurrentViewOption(\"endDayHour\");\n\n    var allDay = this.instance.fire(\"getField\", \"allDay\", appointment);\n    var currentViewEndTime = new Date(new Date(endDate.getTime()).setHours(endDayHour, 0, 0, 0));\n\n    if (result.getTime() > currentViewEndTime.getTime() || allDay && result.getHours() < endDayHour) {\n      result = currentViewEndTime;\n    }\n\n    return result;\n  };\n\n  _proto._adjustDurationByDaylightDiff = function (duration, startDate, endDate) {\n    var daylightDiff = _utils.default.getDaylightOffset(startDate, endDate);\n\n    return this._needAdjustDuration(daylightDiff) ? this._calculateDurationByDaylightDiff(duration, daylightDiff) : duration;\n  };\n\n  _proto._needAdjustDuration = function (diff) {\n    return 0 !== diff;\n  };\n\n  _proto._calculateDurationByDaylightDiff = function (duration, diff) {\n    return duration + diff * toMs(\"minute\");\n  };\n\n  _proto._getAppointmentDurationInMs = function (startDate, endDate, allDay) {\n    return this.instance.fire(\"getAppointmentDurationInMs\", {\n      startDate: startDate,\n      endDate: endDate,\n      allDay: allDay\n    });\n  };\n\n  _proto._markAppointmentAsVirtual = function (coordinates) {\n    var isAllDay = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : false;\n\n    var countFullWidthAppointmentInCell = this._getMaxAppointmentCountPerCellByType(isAllDay);\n\n    if (coordinates.count - countFullWidthAppointmentInCell > 0) {\n      var top = coordinates.top,\n          left = coordinates.left;\n      coordinates.virtual = {\n        top: top,\n        left: left,\n        index: this._generateAppointmentCollectorIndex(coordinates, isAllDay),\n        isAllDay: isAllDay\n      };\n    }\n  };\n\n  _proto._generateAppointmentCollectorIndex = function (_ref, isAllDay) {\n    var groupIndex = _ref.groupIndex,\n        rowIndex = _ref.rowIndex,\n        cellIndex = _ref.cellIndex;\n    return \"\".concat(groupIndex, \"-\").concat(rowIndex, \"-\").concat(cellIndex, \"-\").concat(isAllDay);\n  };\n\n  _proto._getMaxAppointmentCountPerCellByType = function (isAllDay) {\n    var appointmentCountPerCell = this._getMaxAppointmentCountPerCell();\n\n    if ((0, _type.isObject)(appointmentCountPerCell)) {\n      return isAllDay ? this._getMaxAppointmentCountPerCell().allDay : this._getMaxAppointmentCountPerCell().simple;\n    } else {\n      return appointmentCountPerCell;\n    }\n  };\n\n  _proto.getDropDownAppointmentWidth = function (intervalCount, isAllDay) {\n    return this.getPositioningStrategy().getDropDownAppointmentWidth(intervalCount, isAllDay);\n  };\n\n  _proto.getDropDownAppointmentHeight = function () {\n    return this.getPositioningStrategy().getDropDownAppointmentHeight();\n  };\n\n  _proto.getDropDownButtonAdaptiveSize = function () {\n    return DROP_DOWN_BUTTON_ADAPTIVE_SIZE;\n  };\n\n  _proto.getDefaultCellWidth = function () {\n    return this._defaultWidth;\n  };\n\n  _proto.getDefaultCellHeight = function () {\n    return this._defaultHeight;\n  };\n\n  _proto.getDefaultAllDayCellHeight = function () {\n    return this._allDayHeight;\n  };\n\n  _proto.getCollectorTopOffset = function (allDay) {\n    return this.getPositioningStrategy().getCollectorTopOffset(allDay);\n  };\n\n  _proto.getCollectorLeftOffset = function () {\n    return this.getPositioningStrategy().getCollectorLeftOffset();\n  };\n\n  _proto.getAppointmentDataCalculator = function () {};\n\n  _proto._customizeCoordinates = function (coordinates, height, appointmentCountPerCell, topOffset, isAllDay) {\n    var index = coordinates.index;\n    var appointmentHeight = height / appointmentCountPerCell;\n    var appointmentTop = coordinates.top + index * appointmentHeight;\n    var top = appointmentTop + topOffset;\n    var width = coordinates.width;\n    var left = coordinates.left;\n\n    if (coordinates.isCompact) {\n      this._isAdaptive() && this._correctCollectorCoordinatesInAdaptive(coordinates, isAllDay);\n\n      this._markAppointmentAsVirtual(coordinates, isAllDay);\n    }\n\n    return {\n      height: appointmentHeight,\n      width: width,\n      top: top,\n      left: left,\n      empty: this._isAppointmentEmpty(height, width)\n    };\n  };\n\n  _proto._isAppointmentEmpty = function (height, width) {\n    return height < this._getAppointmentMinHeight() || width < this._getAppointmentMinWidth();\n  };\n\n  _proto._calculateGeometryConfig = function (coordinates) {\n    var overlappingMode = this.instance.fire(\"getMaxAppointmentsPerCell\");\n\n    var offsets = this._getOffsets();\n\n    var appointmentDefaultOffset = this._getAppointmentDefaultOffset();\n\n    var appointmentCountPerCell = this._getAppointmentCount(overlappingMode, coordinates);\n\n    var ratio = this._getDefaultRatio(coordinates, appointmentCountPerCell);\n\n    var maxHeight = this._getMaxHeight();\n\n    if (!(0, _type.isNumeric)(appointmentCountPerCell)) {\n      appointmentCountPerCell = coordinates.count;\n      ratio = (maxHeight - offsets.unlimited) / maxHeight;\n    }\n\n    var topOffset = (1 - ratio) * maxHeight;\n\n    if (\"auto\" === overlappingMode || (0, _type.isNumeric)(overlappingMode)) {\n      ratio = 1;\n      maxHeight -= appointmentDefaultOffset;\n      topOffset = appointmentDefaultOffset;\n    }\n\n    return {\n      height: ratio * maxHeight,\n      appointmentCountPerCell: appointmentCountPerCell,\n      offset: topOffset\n    };\n  };\n\n  _proto._getAppointmentCount = function () {};\n\n  _proto._getDefaultRatio = function () {};\n\n  _proto._getOffsets = function () {};\n\n  _proto._getMaxHeight = function () {};\n\n  _proto._needVerifyItemSize = function () {\n    return false;\n  };\n\n  _proto.needSeparateAppointment = function (allDay) {\n    return this.instance.fire(\"isGroupedByDate\") && allDay;\n  };\n\n  _proto._getMaxAppointmentCountPerCell = function () {\n    if (!this._maxAppointmentCountPerCell) {\n      var overlappingMode = this.instance.fire(\"getMaxAppointmentsPerCell\");\n      var appointmentCountPerCell;\n\n      if ((0, _type.isNumeric)(overlappingMode)) {\n        appointmentCountPerCell = overlappingMode;\n      }\n\n      if (\"auto\" === overlappingMode) {\n        appointmentCountPerCell = this._getDynamicAppointmentCountPerCell();\n      }\n\n      if (\"unlimited\" === overlappingMode) {\n        appointmentCountPerCell = void 0;\n      }\n\n      this._maxAppointmentCountPerCell = appointmentCountPerCell;\n    }\n\n    return this._maxAppointmentCountPerCell;\n  };\n\n  _proto._getDynamicAppointmentCountPerCell = function () {\n    return this.getPositioningStrategy().getDynamicAppointmentCountPerCell();\n  };\n\n  _proto.hasAllDayAppointments = function () {\n    return false;\n  };\n\n  _proto._isCompactTheme = function () {\n    return \"compact\" === ((0, _themes.current)() || \"\").split(\".\").pop();\n  };\n\n  _proto._getAppointmentDefaultOffset = function () {\n    return this.getPositioningStrategy().getAppointmentDefaultOffset();\n  };\n\n  _proto._getAppointmentDefaultHeight = function () {\n    return this._getAppointmentHeightByTheme();\n  };\n\n  _proto._getAppointmentMinHeight = function () {\n    return this._getAppointmentDefaultHeight();\n  };\n\n  _proto._getAppointmentHeightByTheme = function () {\n    return this._isCompactTheme() ? COMPACT_THEME_APPOINTMENT_DEFAULT_HEIGHT : APPOINTMENT_DEFAULT_HEIGHT;\n  };\n\n  _proto._getAppointmentDefaultWidth = function () {\n    return this.getPositioningStrategy()._getAppointmentDefaultWidth();\n  };\n\n  _proto._getAppointmentMinWidth = function () {\n    return this._getAppointmentDefaultWidth();\n  };\n\n  _proto._needVerticalGroupBounds = function () {\n    return false;\n  };\n\n  _proto._needHorizontalGroupBounds = function () {\n    return false;\n  };\n\n  _createClass(BaseRenderingStrategy, [{\n    key: \"isVirtualScrolling\",\n    get: function get() {\n      return this.instance.fire(\"isVirtualScrolling\");\n    }\n  }]);\n\n  return BaseRenderingStrategy;\n}();\n\nvar _default = BaseRenderingStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.base.js"],"names":["exports","default","_uiSchedulerAppointmentsPositioningStrategy","_interopRequireDefault","require","_uiSchedulerAppointmentsPositioningStrategy2","_extend","_date","_type","_themes","_utils","obj","__esModule","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","toMs","dateToMilliseconds","APPOINTMENT_MIN_SIZE","APPOINTMENT_DEFAULT_HEIGHT","COMPACT_THEME_APPOINTMENT_DEFAULT_HEIGHT","DROP_DOWN_BUTTON_ADAPTIVE_SIZE","BaseRenderingStrategy","instance","_initPositioningStrategy","_proto","_isAdaptive","fire","_correctCollectorCoordinatesInAdaptive","coordinates","isAllDay","top","getCollectorTopOffset","left","getCollectorLeftOffset","_positioningStrategy","getPositioningStrategy","getAppointmentMinSize","keepAppointmentSettings","getDeltaTime","getAppointmentGeometry","needCorrectAppointmentDates","getDirection","createTaskPositionMap","items","_maxAppointmentCountPerCell","_defaultWidth","_defaultHeight","_allDayHeight","_allDayCellHeight","map","_getItemPosition","_isRtl","_correctRtlCoordinates","push","positionArray","_getSortedPositions","resultPositions","_getResultPositions","_getExtendedPositionMap","_getDeltaWidth","args","initialSize","intervalWidth","initialWidth","width","Math","round","_getAppointmentMaxWidth","forEach","coordinate","appointmentReduced","getDefaultCellWidth","appointment","position","_getAppointmentCoordinates","allDay","result","j","height","calculateAppointmentHeight","calculateAppointmentWidth","resultWidth","multiWeekAppointmentParts","initialRowIndex","rowIndex","initialCellIndex","cellIndex","_needVerifyItemSize","currentMaxAllowedPosition","hMax","isAppointmentGreaterThan","_reduceMultiWeekAppointment","right","_getAppointmentParts","sourceAppointmentWidth","reducedWidth","extend","_getAppointmentPartsPosition","appointmentParts","unshift","concat","option","_getCompactAppointmentParts","appointmentWidth","cellWidth","bound","floor","etalon","comparisonParameters","cropAppointmentWidth","positionList","_this","value","createItem","bottom","cellPosition","rowCount","cellCount","_positionList$rowInde","sort","a","b","_sortCondition","_getConditions","isSomeEdge","_isSomeEdge","columnCondition","_normalizeCondition","rowCondition","cellPositionCondition","_rowCondition","conditions","_columnCondition","first","second","abs","_isItemsCross","firstItem","secondItem","areItemsInTheSameTable","areItemsAllDay","orientation","_getOrientation","_checkItemsCrossing","firstItemSide_1","firstItemSide_2","secondItemSide_1","ceil","secondItemSide_2","isItemCross","sortedArray","_this2","sortedIndex","currentItem","indexes","itemIndex","maxIndexInStack","stack","findFreeIndex","index","isFind","some","item","currentIndex","_skipSortedIndex","startNewStack","pushItemsInResult","count","max","min","_getMaxAppointmentCountPerCell","_findIndexByKey","arr","iKey","jKey","iValue","jValue","len","positions","positionCounter","mapLength","resultString","itemLength","_checkLongCompactAppointment","_splitLongCompactAppointment","appointmentCountPerCell","_getMaxAppointmentCountPerCellByType","compactCount","isCompact","k","compactPart","_getCompactLeftCoordinate","normalizeEndDateByViewEnd","endDate","Date","getTime","viewEndDate","roundToHour","endDayHour","_getCurrentViewOption","currentViewEndTime","setHours","getHours","_adjustDurationByDaylightDiff","duration","startDate","daylightDiff","getDaylightOffset","_needAdjustDuration","_calculateDurationByDaylightDiff","diff","_getAppointmentDurationInMs","_markAppointmentAsVirtual","arguments","countFullWidthAppointmentInCell","virtual","_generateAppointmentCollectorIndex","_ref","groupIndex","isObject","simple","getDropDownAppointmentWidth","intervalCount","getDropDownAppointmentHeight","getDropDownButtonAdaptiveSize","getDefaultCellHeight","getDefaultAllDayCellHeight","getAppointmentDataCalculator","_customizeCoordinates","topOffset","appointmentHeight","appointmentTop","empty","_isAppointmentEmpty","_getAppointmentMinHeight","_getAppointmentMinWidth","_calculateGeometryConfig","overlappingMode","offsets","_getOffsets","appointmentDefaultOffset","_getAppointmentDefaultOffset","_getAppointmentCount","ratio","_getDefaultRatio","maxHeight","_getMaxHeight","isNumeric","unlimited","offset","needSeparateAppointment","_getDynamicAppointmentCountPerCell","getDynamicAppointmentCountPerCell","hasAllDayAppointments","_isCompactTheme","current","split","pop","getAppointmentDefaultOffset","_getAppointmentDefaultHeight","_getAppointmentHeightByTheme","_getAppointmentDefaultWidth","_needVerticalGroupBounds","_needHorizontalGroupBounds","get","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.base.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiSchedulerAppointmentsPositioningStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointmentsPositioning.strategy.base\"));\r\nvar _uiSchedulerAppointmentsPositioningStrategy2 = _interopRequireDefault(require(\"./ui.scheduler.appointmentsPositioning.strategy.adaptive\"));\r\nvar _extend = require(\"../../../core/utils/extend\");\r\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\r\nvar _type = require(\"../../../core/utils/type\");\r\nvar _themes = require(\"../../themes\");\r\nvar _utils = _interopRequireDefault(require(\"../utils.timeZone\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar toMs = _date.default.dateToMilliseconds;\r\nvar APPOINTMENT_MIN_SIZE = 2;\r\nvar APPOINTMENT_DEFAULT_HEIGHT = 20;\r\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_HEIGHT = 18;\r\nvar DROP_DOWN_BUTTON_ADAPTIVE_SIZE = 28;\r\nvar BaseRenderingStrategy = function() {\r\n    function BaseRenderingStrategy(instance) {\r\n        this.instance = instance;\r\n        this._initPositioningStrategy()\r\n    }\r\n    var _proto = BaseRenderingStrategy.prototype;\r\n    _proto._isAdaptive = function() {\r\n        return this.instance.fire(\"isAdaptive\")\r\n    };\r\n    _proto._correctCollectorCoordinatesInAdaptive = function(coordinates, isAllDay) {\r\n        coordinates.top = coordinates.top + this.getCollectorTopOffset(isAllDay);\r\n        coordinates.left = coordinates.left + this.getCollectorLeftOffset()\r\n    };\r\n    _proto._initPositioningStrategy = function() {\r\n        this._positioningStrategy = this._isAdaptive() ? new _uiSchedulerAppointmentsPositioningStrategy2.default(this) : new _uiSchedulerAppointmentsPositioningStrategy.default(this)\r\n    };\r\n    _proto.getPositioningStrategy = function() {\r\n        return this._positioningStrategy\r\n    };\r\n    _proto.getAppointmentMinSize = function() {\r\n        return APPOINTMENT_MIN_SIZE\r\n    };\r\n    _proto.keepAppointmentSettings = function() {\r\n        return false\r\n    };\r\n    _proto.getDeltaTime = function() {};\r\n    _proto.getAppointmentGeometry = function(coordinates) {\r\n        return coordinates\r\n    };\r\n    _proto.needCorrectAppointmentDates = function() {\r\n        return true\r\n    };\r\n    _proto.getDirection = function() {\r\n        return \"horizontal\"\r\n    };\r\n    _proto.createTaskPositionMap = function(items) {\r\n        delete this._maxAppointmentCountPerCell;\r\n        var length = items && items.length;\r\n        if (!length) {\r\n            return\r\n        }\r\n        this._defaultWidth = this.instance.fire(\"getCellWidth\");\r\n        this._defaultHeight = this.instance.fire(\"getCellHeight\");\r\n        this._allDayHeight = this.instance._allDayCellHeight;\r\n        var map = [];\r\n        for (var i = 0; i < length; i++) {\r\n            var coordinates = this._getItemPosition(items[i]);\r\n            if (this._isRtl()) {\r\n                coordinates = this._correctRtlCoordinates(coordinates)\r\n            }\r\n            map.push(coordinates)\r\n        }\r\n        var positionArray = this._getSortedPositions(map);\r\n        var resultPositions = this._getResultPositions(positionArray);\r\n        return this._getExtendedPositionMap(map, resultPositions)\r\n    };\r\n    _proto._getDeltaWidth = function(args, initialSize) {\r\n        var intervalWidth = this.instance.fire(\"getResizableStep\") || this.getAppointmentMinSize();\r\n        var initialWidth = initialSize.width;\r\n        return Math.round((args.width - initialWidth) / intervalWidth)\r\n    };\r\n    _proto._correctRtlCoordinates = function(coordinates) {\r\n        var width = coordinates[0].width || this._getAppointmentMaxWidth();\r\n        coordinates.forEach(function(coordinate) {\r\n            if (!coordinate.appointmentReduced) {\r\n                coordinate.left -= width\r\n            }\r\n        });\r\n        return coordinates\r\n    };\r\n    _proto._getAppointmentMaxWidth = function() {\r\n        return this.getDefaultCellWidth()\r\n    };\r\n    _proto._getItemPosition = function(appointment) {\r\n        var position = this._getAppointmentCoordinates(appointment);\r\n        var allDay = this.isAllDay(appointment);\r\n        var result = [];\r\n        for (var j = 0; j < position.length; j++) {\r\n            var height = this.calculateAppointmentHeight(appointment, position[j]);\r\n            var width = this.calculateAppointmentWidth(appointment, position[j]);\r\n            var resultWidth = width;\r\n            var appointmentReduced = null;\r\n            var multiWeekAppointmentParts = [];\r\n            var initialRowIndex = position[j].rowIndex;\r\n            var initialCellIndex = position[j].cellIndex;\r\n            if (this._needVerifyItemSize() || allDay) {\r\n                var currentMaxAllowedPosition = position[j].hMax;\r\n                if (this.isAppointmentGreaterThan(currentMaxAllowedPosition, {\r\n                        left: position[j].left,\r\n                        width: width\r\n                    })) {\r\n                    appointmentReduced = \"head\";\r\n                    initialRowIndex = position[j].rowIndex;\r\n                    initialCellIndex = position[j].cellIndex;\r\n                    resultWidth = this._reduceMultiWeekAppointment(width, {\r\n                        left: position[j].left,\r\n                        right: currentMaxAllowedPosition\r\n                    });\r\n                    multiWeekAppointmentParts = this._getAppointmentParts({\r\n                        sourceAppointmentWidth: width,\r\n                        reducedWidth: resultWidth,\r\n                        height: height\r\n                    }, position[j]);\r\n                    if (this._isRtl()) {\r\n                        position[j].left = currentMaxAllowedPosition\r\n                    }\r\n                }\r\n            }(0, _extend.extend)(position[j], {\r\n                height: height,\r\n                width: resultWidth,\r\n                allDay: allDay,\r\n                rowIndex: initialRowIndex,\r\n                cellIndex: initialCellIndex,\r\n                appointmentReduced: appointmentReduced\r\n            });\r\n            result = this._getAppointmentPartsPosition(multiWeekAppointmentParts, position[j], result)\r\n        }\r\n        return result\r\n    };\r\n    _proto._getAppointmentPartsPosition = function(appointmentParts, position, result) {\r\n        if (appointmentParts.length) {\r\n            appointmentParts.unshift(position);\r\n            result = result.concat(appointmentParts)\r\n        } else {\r\n            result.push(position)\r\n        }\r\n        return result\r\n    };\r\n    _proto._getAppointmentCoordinates = function(appointment) {\r\n        return this.instance.fire(\"createAppointmentSettings\", appointment)\r\n    };\r\n    _proto._isRtl = function() {\r\n        return this.instance.option(\"rtlEnabled\")\r\n    };\r\n    _proto._getAppointmentParts = function() {\r\n        return []\r\n    };\r\n    _proto._getCompactAppointmentParts = function(appointmentWidth) {\r\n        var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\r\n        return Math.round(appointmentWidth / cellWidth)\r\n    };\r\n    _proto._reduceMultiWeekAppointment = function(sourceAppointmentWidth, bound) {\r\n        if (this._isRtl()) {\r\n            sourceAppointmentWidth = Math.floor(bound.left - bound.right)\r\n        } else {\r\n            sourceAppointmentWidth = bound.right - Math.floor(bound.left)\r\n        }\r\n        return sourceAppointmentWidth\r\n    };\r\n    _proto.calculateAppointmentHeight = function() {\r\n        return 0\r\n    };\r\n    _proto.calculateAppointmentWidth = function() {\r\n        return 0\r\n    };\r\n    _proto.isAppointmentGreaterThan = function(etalon, comparisonParameters) {\r\n        var result = comparisonParameters.left + comparisonParameters.width - etalon;\r\n        if (this._isRtl()) {\r\n            result = etalon + comparisonParameters.width - comparisonParameters.left\r\n        }\r\n        return result > this.getDefaultCellWidth() / 2\r\n    };\r\n    _proto.isAllDay = function() {\r\n        return false\r\n    };\r\n    _proto.cropAppointmentWidth = function(width, cellWidth) {\r\n        if (this.instance.fire(\"isGroupedByDate\")) {\r\n            width = cellWidth\r\n        }\r\n        return width\r\n    };\r\n    _proto._getSortedPositions = function(positionList) {\r\n        var _this = this;\r\n        var result = [];\r\n        var round = function(value) {\r\n            return Math.round(100 * value) / 100\r\n        };\r\n        var createItem = function(rowIndex, cellIndex, top, left, bottom, right, position, allDay) {\r\n            return {\r\n                i: rowIndex,\r\n                j: cellIndex,\r\n                top: round(top),\r\n                left: round(left),\r\n                bottom: round(bottom),\r\n                right: round(right),\r\n                cellPosition: position,\r\n                allDay: allDay\r\n            }\r\n        };\r\n        for (var rowIndex = 0, rowCount = positionList.length; rowIndex < rowCount; rowIndex++) {\r\n            for (var cellIndex = 0, cellCount = positionList[rowIndex].length; cellIndex < cellCount; cellIndex++) {\r\n                var _positionList$rowInde = positionList[rowIndex][cellIndex],\r\n                    top = _positionList$rowInde.top,\r\n                    left = _positionList$rowInde.left,\r\n                    height = _positionList$rowInde.height,\r\n                    width = _positionList$rowInde.width,\r\n                    cellPosition = _positionList$rowInde.cellPosition,\r\n                    allDay = _positionList$rowInde.allDay;\r\n                result.push(createItem(rowIndex, cellIndex, top, left, top + height, left + width, cellPosition, allDay))\r\n            }\r\n        }\r\n        return result.sort(function(a, b) {\r\n            return _this._sortCondition(a, b)\r\n        })\r\n    };\r\n    _proto._sortCondition = function() {};\r\n    _proto._getConditions = function(a, b) {\r\n        var isSomeEdge = this._isSomeEdge(a, b);\r\n        return {\r\n            columnCondition: isSomeEdge || this._normalizeCondition(a.left, b.left),\r\n            rowCondition: isSomeEdge || this._normalizeCondition(a.top, b.top),\r\n            cellPositionCondition: isSomeEdge || this._normalizeCondition(a.cellPosition, b.cellPosition)\r\n        }\r\n    };\r\n    _proto._rowCondition = function(a, b) {\r\n        var conditions = this._getConditions(a, b);\r\n        return conditions.columnCondition || conditions.rowCondition\r\n    };\r\n    _proto._columnCondition = function(a, b) {\r\n        var conditions = this._getConditions(a, b);\r\n        return conditions.rowCondition || conditions.columnCondition\r\n    };\r\n    _proto._isSomeEdge = function(a, b) {\r\n        return a.i === b.i && a.j === b.j\r\n    };\r\n    _proto._normalizeCondition = function(first, second) {\r\n        var result = first - second;\r\n        return Math.abs(result) > 1 ? result : 0\r\n    };\r\n    _proto._isItemsCross = function(firstItem, secondItem) {\r\n        var areItemsInTheSameTable = !!firstItem.allDay === !!secondItem.allDay;\r\n        var areItemsAllDay = firstItem.allDay && secondItem.allDay;\r\n        if (areItemsInTheSameTable) {\r\n            var orientation = this._getOrientation(areItemsAllDay);\r\n            return this._checkItemsCrossing(firstItem, secondItem, orientation)\r\n        } else {\r\n            return false\r\n        }\r\n    };\r\n    _proto._checkItemsCrossing = function(firstItem, secondItem, orientation) {\r\n        var firstItemSide_1 = Math.floor(firstItem[orientation[0]]);\r\n        var firstItemSide_2 = Math.floor(firstItem[orientation[1]]);\r\n        var secondItemSide_1 = Math.ceil(secondItem[orientation[0]]);\r\n        var secondItemSide_2 = Math.ceil(secondItem[orientation[1]]);\r\n        var isItemCross = Math.abs(firstItem[orientation[2]] - secondItem[orientation[2]]) <= 1;\r\n        return isItemCross && (firstItemSide_1 <= secondItemSide_1 && firstItemSide_2 > secondItemSide_1 || firstItemSide_1 < secondItemSide_2 && firstItemSide_2 >= secondItemSide_2 || firstItemSide_1 === secondItemSide_1 && firstItemSide_2 === secondItemSide_2)\r\n    };\r\n    _proto._getOrientation = function(isAllDay) {\r\n        return isAllDay ? [\"left\", \"right\", \"top\"] : [\"top\", \"bottom\", \"left\"]\r\n    };\r\n    _proto._getResultPositions = function(sortedArray) {\r\n        var _this2 = this;\r\n        var result = [];\r\n        var i;\r\n        var sortedIndex = 0;\r\n        var currentItem;\r\n        var indexes;\r\n        var itemIndex;\r\n        var maxIndexInStack = 0;\r\n        var stack = {};\r\n        var findFreeIndex = function findFreeIndex(indexes, index) {\r\n            var isFind = indexes.some(function(item) {\r\n                return item === index\r\n            });\r\n            if (isFind) {\r\n                return findFreeIndex(indexes, ++index)\r\n            } else {\r\n                return index\r\n            }\r\n        };\r\n        var createItem = function(currentItem, index) {\r\n            var currentIndex = index || 0;\r\n            return {\r\n                index: currentIndex,\r\n                i: currentItem.i,\r\n                j: currentItem.j,\r\n                left: currentItem.left,\r\n                right: currentItem.right,\r\n                top: currentItem.top,\r\n                bottom: currentItem.bottom,\r\n                allDay: currentItem.allDay,\r\n                sortedIndex: _this2._skipSortedIndex(currentIndex) ? null : sortedIndex++\r\n            }\r\n        };\r\n        var startNewStack = function(currentItem) {\r\n            stack.items = [createItem(currentItem)];\r\n            stack.left = currentItem.left;\r\n            stack.right = currentItem.right;\r\n            stack.top = currentItem.top;\r\n            stack.bottom = currentItem.bottom;\r\n            stack.allDay = currentItem.allDay\r\n        };\r\n        var pushItemsInResult = function(items) {\r\n            items.forEach(function(item) {\r\n                result.push({\r\n                    index: item.index,\r\n                    count: maxIndexInStack + 1,\r\n                    i: item.i,\r\n                    j: item.j,\r\n                    sortedIndex: item.sortedIndex\r\n                })\r\n            })\r\n        };\r\n        for (i = 0; i < sortedArray.length; i++) {\r\n            currentItem = sortedArray[i];\r\n            indexes = [];\r\n            if (!stack.items) {\r\n                startNewStack(currentItem)\r\n            } else {\r\n                if (this._isItemsCross(stack, currentItem)) {\r\n                    stack.items.forEach(function(item, index) {\r\n                        if (_this2._isItemsCross(item, currentItem)) {\r\n                            indexes.push(item.index)\r\n                        }\r\n                    });\r\n                    itemIndex = indexes.length ? findFreeIndex(indexes, 0) : 0;\r\n                    stack.items.push(createItem(currentItem, itemIndex));\r\n                    maxIndexInStack = Math.max(itemIndex, maxIndexInStack);\r\n                    stack.left = Math.min(stack.left, currentItem.left);\r\n                    stack.right = Math.max(stack.right, currentItem.right);\r\n                    stack.top = Math.min(stack.top, currentItem.top);\r\n                    stack.bottom = Math.max(stack.bottom, currentItem.bottom);\r\n                    stack.allDay = currentItem.allDay\r\n                } else {\r\n                    pushItemsInResult(stack.items);\r\n                    stack = {};\r\n                    startNewStack(currentItem);\r\n                    maxIndexInStack = 0\r\n                }\r\n            }\r\n        }\r\n        if (stack.items) {\r\n            pushItemsInResult(stack.items)\r\n        }\r\n        return result.sort(function(a, b) {\r\n            var columnCondition = a.j - b.j;\r\n            var rowCondition = a.i - b.i;\r\n            return rowCondition ? rowCondition : columnCondition\r\n        })\r\n    };\r\n    _proto._skipSortedIndex = function(index) {\r\n        return index > this._getMaxAppointmentCountPerCell() - 1\r\n    };\r\n    _proto._findIndexByKey = function(arr, iKey, jKey, iValue, jValue) {\r\n        var result = 0;\r\n        for (var i = 0, len = arr.length; i < len; i++) {\r\n            if (arr[i][iKey] === iValue && arr[i][jKey] === jValue) {\r\n                result = i;\r\n                break\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    _proto._getExtendedPositionMap = function(map, positions) {\r\n        var positionCounter = 0;\r\n        var result = [];\r\n        for (var i = 0, mapLength = map.length; i < mapLength; i++) {\r\n            var resultString = [];\r\n            for (var j = 0, itemLength = map[i].length; j < itemLength; j++) {\r\n                map[i][j].index = positions[positionCounter].index;\r\n                map[i][j].sortedIndex = positions[positionCounter].sortedIndex;\r\n                map[i][j].count = positions[positionCounter++].count;\r\n                resultString.push(map[i][j]);\r\n                this._checkLongCompactAppointment(map[i][j], resultString)\r\n            }\r\n            result.push(resultString)\r\n        }\r\n        return result\r\n    };\r\n    _proto._checkLongCompactAppointment = function(item, result) {\r\n        this._splitLongCompactAppointment(item, result);\r\n        return result\r\n    };\r\n    _proto._splitLongCompactAppointment = function(item, result) {\r\n        var appointmentCountPerCell = this._getMaxAppointmentCountPerCellByType(item.allDay);\r\n        var compactCount = 0;\r\n        if (void 0 !== appointmentCountPerCell && item.index > appointmentCountPerCell - 1) {\r\n            item.isCompact = true;\r\n            compactCount = this._getCompactAppointmentParts(item.width);\r\n            for (var k = 1; k < compactCount; k++) {\r\n                var compactPart = (0, _extend.extend)(true, {}, item);\r\n                compactPart.left = this._getCompactLeftCoordinate(item.left, k);\r\n                compactPart.cellIndex = compactPart.cellIndex + k;\r\n                compactPart.sortedIndex = null;\r\n                result.push(compactPart)\r\n            }\r\n        }\r\n        return result\r\n    };\r\n    _proto.normalizeEndDateByViewEnd = function(appointment, endDate) {\r\n        var result = new Date(endDate.getTime());\r\n        if (!this.isAllDay(appointment)) {\r\n            var viewEndDate = _date.default.roundToHour(this.instance.fire(\"getEndViewDate\"));\r\n            if (result > viewEndDate) {\r\n                result = viewEndDate\r\n            }\r\n        }\r\n        var endDayHour = this.instance._getCurrentViewOption(\"endDayHour\");\r\n        var allDay = this.instance.fire(\"getField\", \"allDay\", appointment);\r\n        var currentViewEndTime = new Date(new Date(endDate.getTime()).setHours(endDayHour, 0, 0, 0));\r\n        if (result.getTime() > currentViewEndTime.getTime() || allDay && result.getHours() < endDayHour) {\r\n            result = currentViewEndTime\r\n        }\r\n        return result\r\n    };\r\n    _proto._adjustDurationByDaylightDiff = function(duration, startDate, endDate) {\r\n        var daylightDiff = _utils.default.getDaylightOffset(startDate, endDate);\r\n        return this._needAdjustDuration(daylightDiff) ? this._calculateDurationByDaylightDiff(duration, daylightDiff) : duration\r\n    };\r\n    _proto._needAdjustDuration = function(diff) {\r\n        return 0 !== diff\r\n    };\r\n    _proto._calculateDurationByDaylightDiff = function(duration, diff) {\r\n        return duration + diff * toMs(\"minute\")\r\n    };\r\n    _proto._getAppointmentDurationInMs = function(startDate, endDate, allDay) {\r\n        return this.instance.fire(\"getAppointmentDurationInMs\", {\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            allDay: allDay\r\n        })\r\n    };\r\n    _proto._markAppointmentAsVirtual = function(coordinates) {\r\n        var isAllDay = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : false;\r\n        var countFullWidthAppointmentInCell = this._getMaxAppointmentCountPerCellByType(isAllDay);\r\n        if (coordinates.count - countFullWidthAppointmentInCell > 0) {\r\n            var top = coordinates.top,\r\n                left = coordinates.left;\r\n            coordinates.virtual = {\r\n                top: top,\r\n                left: left,\r\n                index: this._generateAppointmentCollectorIndex(coordinates, isAllDay),\r\n                isAllDay: isAllDay\r\n            }\r\n        }\r\n    };\r\n    _proto._generateAppointmentCollectorIndex = function(_ref, isAllDay) {\r\n        var groupIndex = _ref.groupIndex,\r\n            rowIndex = _ref.rowIndex,\r\n            cellIndex = _ref.cellIndex;\r\n        return \"\".concat(groupIndex, \"-\").concat(rowIndex, \"-\").concat(cellIndex, \"-\").concat(isAllDay)\r\n    };\r\n    _proto._getMaxAppointmentCountPerCellByType = function(isAllDay) {\r\n        var appointmentCountPerCell = this._getMaxAppointmentCountPerCell();\r\n        if ((0, _type.isObject)(appointmentCountPerCell)) {\r\n            return isAllDay ? this._getMaxAppointmentCountPerCell().allDay : this._getMaxAppointmentCountPerCell().simple\r\n        } else {\r\n            return appointmentCountPerCell\r\n        }\r\n    };\r\n    _proto.getDropDownAppointmentWidth = function(intervalCount, isAllDay) {\r\n        return this.getPositioningStrategy().getDropDownAppointmentWidth(intervalCount, isAllDay)\r\n    };\r\n    _proto.getDropDownAppointmentHeight = function() {\r\n        return this.getPositioningStrategy().getDropDownAppointmentHeight()\r\n    };\r\n    _proto.getDropDownButtonAdaptiveSize = function() {\r\n        return DROP_DOWN_BUTTON_ADAPTIVE_SIZE\r\n    };\r\n    _proto.getDefaultCellWidth = function() {\r\n        return this._defaultWidth\r\n    };\r\n    _proto.getDefaultCellHeight = function() {\r\n        return this._defaultHeight\r\n    };\r\n    _proto.getDefaultAllDayCellHeight = function() {\r\n        return this._allDayHeight\r\n    };\r\n    _proto.getCollectorTopOffset = function(allDay) {\r\n        return this.getPositioningStrategy().getCollectorTopOffset(allDay)\r\n    };\r\n    _proto.getCollectorLeftOffset = function() {\r\n        return this.getPositioningStrategy().getCollectorLeftOffset()\r\n    };\r\n    _proto.getAppointmentDataCalculator = function() {};\r\n    _proto._customizeCoordinates = function(coordinates, height, appointmentCountPerCell, topOffset, isAllDay) {\r\n        var index = coordinates.index;\r\n        var appointmentHeight = height / appointmentCountPerCell;\r\n        var appointmentTop = coordinates.top + index * appointmentHeight;\r\n        var top = appointmentTop + topOffset;\r\n        var width = coordinates.width;\r\n        var left = coordinates.left;\r\n        if (coordinates.isCompact) {\r\n            this._isAdaptive() && this._correctCollectorCoordinatesInAdaptive(coordinates, isAllDay);\r\n            this._markAppointmentAsVirtual(coordinates, isAllDay)\r\n        }\r\n        return {\r\n            height: appointmentHeight,\r\n            width: width,\r\n            top: top,\r\n            left: left,\r\n            empty: this._isAppointmentEmpty(height, width)\r\n        }\r\n    };\r\n    _proto._isAppointmentEmpty = function(height, width) {\r\n        return height < this._getAppointmentMinHeight() || width < this._getAppointmentMinWidth()\r\n    };\r\n    _proto._calculateGeometryConfig = function(coordinates) {\r\n        var overlappingMode = this.instance.fire(\"getMaxAppointmentsPerCell\");\r\n        var offsets = this._getOffsets();\r\n        var appointmentDefaultOffset = this._getAppointmentDefaultOffset();\r\n        var appointmentCountPerCell = this._getAppointmentCount(overlappingMode, coordinates);\r\n        var ratio = this._getDefaultRatio(coordinates, appointmentCountPerCell);\r\n        var maxHeight = this._getMaxHeight();\r\n        if (!(0, _type.isNumeric)(appointmentCountPerCell)) {\r\n            appointmentCountPerCell = coordinates.count;\r\n            ratio = (maxHeight - offsets.unlimited) / maxHeight\r\n        }\r\n        var topOffset = (1 - ratio) * maxHeight;\r\n        if (\"auto\" === overlappingMode || (0, _type.isNumeric)(overlappingMode)) {\r\n            ratio = 1;\r\n            maxHeight -= appointmentDefaultOffset;\r\n            topOffset = appointmentDefaultOffset\r\n        }\r\n        return {\r\n            height: ratio * maxHeight,\r\n            appointmentCountPerCell: appointmentCountPerCell,\r\n            offset: topOffset\r\n        }\r\n    };\r\n    _proto._getAppointmentCount = function() {};\r\n    _proto._getDefaultRatio = function() {};\r\n    _proto._getOffsets = function() {};\r\n    _proto._getMaxHeight = function() {};\r\n    _proto._needVerifyItemSize = function() {\r\n        return false\r\n    };\r\n    _proto.needSeparateAppointment = function(allDay) {\r\n        return this.instance.fire(\"isGroupedByDate\") && allDay\r\n    };\r\n    _proto._getMaxAppointmentCountPerCell = function() {\r\n        if (!this._maxAppointmentCountPerCell) {\r\n            var overlappingMode = this.instance.fire(\"getMaxAppointmentsPerCell\");\r\n            var appointmentCountPerCell;\r\n            if ((0, _type.isNumeric)(overlappingMode)) {\r\n                appointmentCountPerCell = overlappingMode\r\n            }\r\n            if (\"auto\" === overlappingMode) {\r\n                appointmentCountPerCell = this._getDynamicAppointmentCountPerCell()\r\n            }\r\n            if (\"unlimited\" === overlappingMode) {\r\n                appointmentCountPerCell = void 0\r\n            }\r\n            this._maxAppointmentCountPerCell = appointmentCountPerCell\r\n        }\r\n        return this._maxAppointmentCountPerCell\r\n    };\r\n    _proto._getDynamicAppointmentCountPerCell = function() {\r\n        return this.getPositioningStrategy().getDynamicAppointmentCountPerCell()\r\n    };\r\n    _proto.hasAllDayAppointments = function() {\r\n        return false\r\n    };\r\n    _proto._isCompactTheme = function() {\r\n        return \"compact\" === ((0, _themes.current)() || \"\").split(\".\").pop()\r\n    };\r\n    _proto._getAppointmentDefaultOffset = function() {\r\n        return this.getPositioningStrategy().getAppointmentDefaultOffset()\r\n    };\r\n    _proto._getAppointmentDefaultHeight = function() {\r\n        return this._getAppointmentHeightByTheme()\r\n    };\r\n    _proto._getAppointmentMinHeight = function() {\r\n        return this._getAppointmentDefaultHeight()\r\n    };\r\n    _proto._getAppointmentHeightByTheme = function() {\r\n        return this._isCompactTheme() ? COMPACT_THEME_APPOINTMENT_DEFAULT_HEIGHT : APPOINTMENT_DEFAULT_HEIGHT\r\n    };\r\n    _proto._getAppointmentDefaultWidth = function() {\r\n        return this.getPositioningStrategy()._getAppointmentDefaultWidth()\r\n    };\r\n    _proto._getAppointmentMinWidth = function() {\r\n        return this._getAppointmentDefaultWidth()\r\n    };\r\n    _proto._needVerticalGroupBounds = function() {\r\n        return false\r\n    };\r\n    _proto._needHorizontalGroupBounds = function() {\r\n        return false\r\n    };\r\n    _createClass(BaseRenderingStrategy, [{\r\n        key: \"isVirtualScrolling\",\r\n        get: function() {\r\n            return this.instance.fire(\"isVirtualScrolling\")\r\n        }\r\n    }]);\r\n    return BaseRenderingStrategy\r\n}();\r\nvar _default = BaseRenderingStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}