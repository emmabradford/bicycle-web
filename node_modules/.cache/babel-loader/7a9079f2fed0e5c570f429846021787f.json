{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.horizontal.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _uiSchedulerAppointmentsStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointments.strategy.base\"));\n\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DEFAULT_APPOINTMENT_HEIGHT = 60;\nvar MIN_APPOINTMENT_HEIGHT = 35;\nvar DROP_DOWN_BUTTON_OFFSET = 2;\nvar toMs = _date.default.dateToMilliseconds;\n\nvar HorizontalRenderingStrategy = function (_BaseAppointmentsStra) {\n  _inheritsLoose(HorizontalRenderingStrategy, _BaseAppointmentsStra);\n\n  function HorizontalRenderingStrategy() {\n    return _BaseAppointmentsStra.apply(this, arguments) || this;\n  }\n\n  var _proto = HorizontalRenderingStrategy.prototype;\n\n  _proto._needVerifyItemSize = function () {\n    return true;\n  };\n\n  _proto.calculateAppointmentWidth = function (appointment, position) {\n    var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\n    var allDay = this.instance.fire(\"getField\", \"allDay\", appointment);\n    var startDate = position.info.appointment.startDate;\n    var endDate = this.normalizeEndDateByViewEnd(appointment, position.info.appointment.endDate);\n\n    var appointmentDuration = this._getAppointmentDurationInMs(startDate, endDate, allDay);\n\n    appointmentDuration = this._adjustDurationByDaylightDiff(appointmentDuration, startDate, endDate);\n    var cellDuration = this.instance.getAppointmentDurationInMinutes() * toMs(\"minute\");\n    var durationInCells = appointmentDuration / cellDuration;\n    var width = this.cropAppointmentWidth(durationInCells * cellWidth, cellWidth);\n    return width;\n  };\n\n  _proto._needAdjustDuration = function (diff) {\n    return diff < 0;\n  };\n\n  _proto.getAppointmentGeometry = function (coordinates) {\n    var result = this._customizeAppointmentGeometry(coordinates);\n\n    return _BaseAppointmentsStra.prototype.getAppointmentGeometry.call(this, result);\n  };\n\n  _proto._customizeAppointmentGeometry = function (coordinates) {\n    var config = this._calculateGeometryConfig(coordinates);\n\n    return this._customizeCoordinates(coordinates, config.height, config.appointmentCountPerCell, config.offset);\n  };\n\n  _proto._getOffsets = function () {\n    return {\n      unlimited: 0,\n      auto: 0\n    };\n  };\n\n  _proto._getCompactLeftCoordinate = function (itemLeft, index) {\n    var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\n    return itemLeft + cellWidth * index;\n  };\n\n  _proto._getMaxHeight = function () {\n    return this.getDefaultCellHeight() || this.getAppointmentMinSize();\n  };\n\n  _proto._getAppointmentCount = function (overlappingMode, coordinates) {\n    return this._getMaxAppointmentCountPerCellByType(false);\n  };\n\n  _proto._getAppointmentDefaultHeight = function () {\n    return DEFAULT_APPOINTMENT_HEIGHT;\n  };\n\n  _proto._getAppointmentMinHeight = function () {\n    return MIN_APPOINTMENT_HEIGHT;\n  };\n\n  _proto._sortCondition = function (a, b) {\n    return this._columnCondition(a, b);\n  };\n\n  _proto._getOrientation = function () {\n    return [\"left\", \"right\", \"top\"];\n  };\n\n  _proto._getMaxAppointmentWidth = function (startDate) {\n    return this.instance.fire(\"getMaxAppointmentWidth\", {\n      date: startDate\n    });\n  };\n\n  _proto.getDropDownAppointmentWidth = function () {\n    return this.getDefaultCellWidth() - 2 * DROP_DOWN_BUTTON_OFFSET;\n  };\n\n  _proto.getDeltaTime = function (args, initialSize) {\n    var deltaTime = 0;\n    var deltaWidth = args.width - initialSize.width;\n    deltaTime = toMs(\"minute\") * Math.round(deltaWidth / this.getDefaultCellWidth() * this.instance.getAppointmentDurationInMinutes());\n    return deltaTime;\n  };\n\n  _proto.isAllDay = function (appointmentData) {\n    return this.instance.fire(\"getField\", \"allDay\", appointmentData);\n  };\n\n  _proto.needSeparateAppointment = function () {\n    return this.instance.fire(\"isGroupedByDate\");\n  };\n\n  return HorizontalRenderingStrategy;\n}(_uiSchedulerAppointmentsStrategy.default);\n\nvar _default = HorizontalRenderingStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.horizontal.js"],"names":["exports","default","_uiSchedulerAppointmentsStrategy","_interopRequireDefault","require","_date","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","DEFAULT_APPOINTMENT_HEIGHT","MIN_APPOINTMENT_HEIGHT","DROP_DOWN_BUTTON_OFFSET","toMs","dateToMilliseconds","HorizontalRenderingStrategy","_BaseAppointmentsStra","apply","arguments","_proto","_needVerifyItemSize","calculateAppointmentWidth","appointment","position","cellWidth","getDefaultCellWidth","getAppointmentMinSize","allDay","instance","fire","startDate","info","endDate","normalizeEndDateByViewEnd","appointmentDuration","_getAppointmentDurationInMs","_adjustDurationByDaylightDiff","cellDuration","getAppointmentDurationInMinutes","durationInCells","width","cropAppointmentWidth","_needAdjustDuration","diff","getAppointmentGeometry","coordinates","result","_customizeAppointmentGeometry","call","config","_calculateGeometryConfig","_customizeCoordinates","height","appointmentCountPerCell","offset","_getOffsets","unlimited","auto","_getCompactLeftCoordinate","itemLeft","index","_getMaxHeight","getDefaultCellHeight","_getAppointmentCount","overlappingMode","_getMaxAppointmentCountPerCellByType","_getAppointmentDefaultHeight","_getAppointmentMinHeight","_sortCondition","a","b","_columnCondition","_getOrientation","_getMaxAppointmentWidth","date","getDropDownAppointmentWidth","getDeltaTime","args","initialSize","deltaTime","deltaWidth","Math","round","isAllDay","appointmentData","needSeparateAppointment","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointments.strategy.horizontal.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _uiSchedulerAppointmentsStrategy = _interopRequireDefault(require(\"./ui.scheduler.appointments.strategy.base\"));\r\nvar _date = _interopRequireDefault(require(\"../../../core/utils/date\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar DEFAULT_APPOINTMENT_HEIGHT = 60;\r\nvar MIN_APPOINTMENT_HEIGHT = 35;\r\nvar DROP_DOWN_BUTTON_OFFSET = 2;\r\nvar toMs = _date.default.dateToMilliseconds;\r\nvar HorizontalRenderingStrategy = function(_BaseAppointmentsStra) {\r\n    _inheritsLoose(HorizontalRenderingStrategy, _BaseAppointmentsStra);\r\n\r\n    function HorizontalRenderingStrategy() {\r\n        return _BaseAppointmentsStra.apply(this, arguments) || this\r\n    }\r\n    var _proto = HorizontalRenderingStrategy.prototype;\r\n    _proto._needVerifyItemSize = function() {\r\n        return true\r\n    };\r\n    _proto.calculateAppointmentWidth = function(appointment, position) {\r\n        var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\r\n        var allDay = this.instance.fire(\"getField\", \"allDay\", appointment);\r\n        var startDate = position.info.appointment.startDate;\r\n        var endDate = this.normalizeEndDateByViewEnd(appointment, position.info.appointment.endDate);\r\n        var appointmentDuration = this._getAppointmentDurationInMs(startDate, endDate, allDay);\r\n        appointmentDuration = this._adjustDurationByDaylightDiff(appointmentDuration, startDate, endDate);\r\n        var cellDuration = this.instance.getAppointmentDurationInMinutes() * toMs(\"minute\");\r\n        var durationInCells = appointmentDuration / cellDuration;\r\n        var width = this.cropAppointmentWidth(durationInCells * cellWidth, cellWidth);\r\n        return width\r\n    };\r\n    _proto._needAdjustDuration = function(diff) {\r\n        return diff < 0\r\n    };\r\n    _proto.getAppointmentGeometry = function(coordinates) {\r\n        var result = this._customizeAppointmentGeometry(coordinates);\r\n        return _BaseAppointmentsStra.prototype.getAppointmentGeometry.call(this, result)\r\n    };\r\n    _proto._customizeAppointmentGeometry = function(coordinates) {\r\n        var config = this._calculateGeometryConfig(coordinates);\r\n        return this._customizeCoordinates(coordinates, config.height, config.appointmentCountPerCell, config.offset)\r\n    };\r\n    _proto._getOffsets = function() {\r\n        return {\r\n            unlimited: 0,\r\n            auto: 0\r\n        }\r\n    };\r\n    _proto._getCompactLeftCoordinate = function(itemLeft, index) {\r\n        var cellWidth = this.getDefaultCellWidth() || this.getAppointmentMinSize();\r\n        return itemLeft + cellWidth * index\r\n    };\r\n    _proto._getMaxHeight = function() {\r\n        return this.getDefaultCellHeight() || this.getAppointmentMinSize()\r\n    };\r\n    _proto._getAppointmentCount = function(overlappingMode, coordinates) {\r\n        return this._getMaxAppointmentCountPerCellByType(false)\r\n    };\r\n    _proto._getAppointmentDefaultHeight = function() {\r\n        return DEFAULT_APPOINTMENT_HEIGHT\r\n    };\r\n    _proto._getAppointmentMinHeight = function() {\r\n        return MIN_APPOINTMENT_HEIGHT\r\n    };\r\n    _proto._sortCondition = function(a, b) {\r\n        return this._columnCondition(a, b)\r\n    };\r\n    _proto._getOrientation = function() {\r\n        return [\"left\", \"right\", \"top\"]\r\n    };\r\n    _proto._getMaxAppointmentWidth = function(startDate) {\r\n        return this.instance.fire(\"getMaxAppointmentWidth\", {\r\n            date: startDate\r\n        })\r\n    };\r\n    _proto.getDropDownAppointmentWidth = function() {\r\n        return this.getDefaultCellWidth() - 2 * DROP_DOWN_BUTTON_OFFSET\r\n    };\r\n    _proto.getDeltaTime = function(args, initialSize) {\r\n        var deltaTime = 0;\r\n        var deltaWidth = args.width - initialSize.width;\r\n        deltaTime = toMs(\"minute\") * Math.round(deltaWidth / this.getDefaultCellWidth() * this.instance.getAppointmentDurationInMinutes());\r\n        return deltaTime\r\n    };\r\n    _proto.isAllDay = function(appointmentData) {\r\n        return this.instance.fire(\"getField\", \"allDay\", appointmentData)\r\n    };\r\n    _proto.needSeparateAppointment = function() {\r\n        return this.instance.fire(\"isGroupedByDate\")\r\n    };\r\n    return HorizontalRenderingStrategy\r\n}(_uiSchedulerAppointmentsStrategy.default);\r\nvar _default = HorizontalRenderingStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}