{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/desktopTooltipStrategy.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.DesktopTooltipStrategy = void 0;\n\nvar _tooltipStrategyBase = require(\"./tooltipStrategyBase\");\n\nvar _tooltip = _interopRequireDefault(require(\"../../tooltip\"));\n\nvar _support = require(\"../../../core/utils/support\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function (o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar APPOINTMENT_TOOLTIP_WRAPPER_CLASS = \"dx-scheduler-appointment-tooltip-wrapper\";\nvar MAX_TOOLTIP_HEIGHT = 200;\n\nvar DesktopTooltipStrategy = function (_TooltipStrategyBase) {\n  _inheritsLoose(DesktopTooltipStrategy, _TooltipStrategyBase);\n\n  function DesktopTooltipStrategy() {\n    return _TooltipStrategyBase.apply(this, arguments) || this;\n  }\n\n  var _proto = DesktopTooltipStrategy.prototype;\n\n  _proto._prepareBeforeVisibleChanged = function (dataList) {\n    this._tooltip.option(\"position\", {\n      my: \"bottom\",\n      at: \"top\",\n      boundary: this._getBoundary(dataList),\n      offset: this._extraOptions.offset,\n      collision: \"fit flipfit\"\n    });\n  };\n\n  _proto._getBoundary = function (dataList) {\n    return this._options.isAppointmentInAllDayPanel(dataList[0].appointment) ? this._options.container : this._options.getScrollableContainer();\n  };\n\n  _proto._onShown = function () {\n    _TooltipStrategyBase.prototype._onShown.call(this);\n\n    if (this._extraOptions.isButtonClick) {\n      this._list.focus();\n\n      this._list.option(\"focusedElement\", null);\n    }\n  };\n\n  _proto._createListOption = function (target, dataList) {\n    var result = _TooltipStrategyBase.prototype._createListOption.call(this, target, dataList);\n\n    result.showScrollbar = _support.touch ? \"always\" : \"onHover\";\n    return result;\n  };\n\n  _proto._createTooltip = function (target, dataList) {\n    var tooltip = this._createTooltipElement(APPOINTMENT_TOOLTIP_WRAPPER_CLASS);\n\n    return this._options.createComponent(tooltip, _tooltip.default, {\n      target: target,\n      maxHeight: MAX_TOOLTIP_HEIGHT,\n      rtlEnabled: this._extraOptions.rtlEnabled,\n      onShown: this._onShown.bind(this),\n      contentTemplate: this._getContentTemplate(dataList)\n    });\n  };\n\n  _proto._onListRender = function (e) {\n    return this._extraOptions.dragBehavior && this._extraOptions.dragBehavior(e);\n  };\n\n  return DesktopTooltipStrategy;\n}(_tooltipStrategyBase.TooltipStrategyBase);\n\nexports.DesktopTooltipStrategy = DesktopTooltipStrategy;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/tooltip_strategies/desktopTooltipStrategy.js"],"names":["exports","DesktopTooltipStrategy","_tooltipStrategyBase","require","_tooltip","_interopRequireDefault","_support","obj","__esModule","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","APPOINTMENT_TOOLTIP_WRAPPER_CLASS","MAX_TOOLTIP_HEIGHT","_TooltipStrategyBase","apply","arguments","_proto","_prepareBeforeVisibleChanged","dataList","option","my","at","boundary","_getBoundary","offset","_extraOptions","collision","_options","isAppointmentInAllDayPanel","appointment","container","getScrollableContainer","_onShown","call","isButtonClick","_list","focus","_createListOption","target","result","showScrollbar","touch","_createTooltip","tooltip","_createTooltipElement","createComponent","default","maxHeight","rtlEnabled","onShown","bind","contentTemplate","_getContentTemplate","_onListRender","e","dragBehavior","TooltipStrategyBase"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/tooltip_strategies/desktopTooltipStrategy.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.DesktopTooltipStrategy = void 0;\r\nvar _tooltipStrategyBase = require(\"./tooltipStrategyBase\");\r\nvar _tooltip = _interopRequireDefault(require(\"../../tooltip\"));\r\nvar _support = require(\"../../../core/utils/support\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _inheritsLoose(subClass, superClass) {\r\n    subClass.prototype = Object.create(superClass.prototype);\r\n    subClass.prototype.constructor = subClass;\r\n    _setPrototypeOf(subClass, superClass)\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n    _setPrototypeOf = Object.setPrototypeOf || function(o, p) {\r\n        o.__proto__ = p;\r\n        return o\r\n    };\r\n    return _setPrototypeOf(o, p)\r\n}\r\nvar APPOINTMENT_TOOLTIP_WRAPPER_CLASS = \"dx-scheduler-appointment-tooltip-wrapper\";\r\nvar MAX_TOOLTIP_HEIGHT = 200;\r\nvar DesktopTooltipStrategy = function(_TooltipStrategyBase) {\r\n    _inheritsLoose(DesktopTooltipStrategy, _TooltipStrategyBase);\r\n\r\n    function DesktopTooltipStrategy() {\r\n        return _TooltipStrategyBase.apply(this, arguments) || this\r\n    }\r\n    var _proto = DesktopTooltipStrategy.prototype;\r\n    _proto._prepareBeforeVisibleChanged = function(dataList) {\r\n        this._tooltip.option(\"position\", {\r\n            my: \"bottom\",\r\n            at: \"top\",\r\n            boundary: this._getBoundary(dataList),\r\n            offset: this._extraOptions.offset,\r\n            collision: \"fit flipfit\"\r\n        })\r\n    };\r\n    _proto._getBoundary = function(dataList) {\r\n        return this._options.isAppointmentInAllDayPanel(dataList[0].appointment) ? this._options.container : this._options.getScrollableContainer()\r\n    };\r\n    _proto._onShown = function() {\r\n        _TooltipStrategyBase.prototype._onShown.call(this);\r\n        if (this._extraOptions.isButtonClick) {\r\n            this._list.focus();\r\n            this._list.option(\"focusedElement\", null)\r\n        }\r\n    };\r\n    _proto._createListOption = function(target, dataList) {\r\n        var result = _TooltipStrategyBase.prototype._createListOption.call(this, target, dataList);\r\n        result.showScrollbar = _support.touch ? \"always\" : \"onHover\";\r\n        return result\r\n    };\r\n    _proto._createTooltip = function(target, dataList) {\r\n        var tooltip = this._createTooltipElement(APPOINTMENT_TOOLTIP_WRAPPER_CLASS);\r\n        return this._options.createComponent(tooltip, _tooltip.default, {\r\n            target: target,\r\n            maxHeight: MAX_TOOLTIP_HEIGHT,\r\n            rtlEnabled: this._extraOptions.rtlEnabled,\r\n            onShown: this._onShown.bind(this),\r\n            contentTemplate: this._getContentTemplate(dataList)\r\n        })\r\n    };\r\n    _proto._onListRender = function(e) {\r\n        return this._extraOptions.dragBehavior && this._extraOptions.dragBehavior(e)\r\n    };\r\n    return DesktopTooltipStrategy\r\n}(_tooltipStrategyBase.TooltipStrategyBase);\r\nexports.DesktopTooltipStrategy = DesktopTooltipStrategy;\r\n"]},"metadata":{},"sourceType":"script"}