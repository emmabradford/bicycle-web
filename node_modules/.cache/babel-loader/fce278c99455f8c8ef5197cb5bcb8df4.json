{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/appointmentDragBehavior.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\n\nvar _draggable = _interopRequireDefault(require(\"../draggable\"));\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar APPOINTMENT_ITEM_CLASS = \"dx-scheduler-appointment\";\n\nvar AppointmentDragBehavior = function () {\n  function AppointmentDragBehavior(scheduler) {\n    this.scheduler = scheduler;\n    this.appointments = scheduler._appointments;\n    this.initialPosition = {\n      left: 0,\n      top: 0\n    };\n    this.appointmentInfo = null;\n  }\n\n  var _proto = AppointmentDragBehavior.prototype;\n\n  _proto.isAllDay = function (appointment) {\n    return appointment.data(\"dxAppointmentSettings\").allDay;\n  };\n\n  _proto.onDragStart = function (e) {\n    var itemSettings = e.itemSettings,\n        itemData = e.itemData,\n        initialPosition = e.initialPosition;\n    this.initialPosition = initialPosition;\n    this.appointmentInfo = {\n      appointment: itemData,\n      settings: itemSettings\n    };\n    this.appointments.notifyObserver(\"hideAppointmentTooltip\");\n  };\n\n  _proto.onDragMove = function (e) {\n    if (e.fromComponent !== e.toComponent) {\n      this.appointments.notifyObserver(\"removeDroppableCellClass\");\n    }\n  };\n\n  _proto.getAppointmentElement = function (e) {\n    var itemElement = e.event.data && e.event.data.itemElement || e.itemElement;\n    return (0, _renderer.default)(itemElement);\n  };\n\n  _proto.onDragEnd = function (e) {\n    var element = this.getAppointmentElement(e);\n\n    var rawAppointment = this.appointments._getItemData(element);\n\n    var container = this.appointments._getAppointmentContainer(this.isAllDay(element));\n\n    container.append(element);\n    this.appointments.notifyObserver(\"updateAppointmentAfterDrag\", {\n      event: e,\n      element: element,\n      rawAppointment: rawAppointment,\n      coordinates: this.initialPosition\n    });\n  };\n\n  _proto.getItemData = function (appointmentElement) {\n    var dataFromTooltip = (0, _renderer.default)(appointmentElement).data(_constants.LIST_ITEM_DATA_KEY);\n    var itemDataFromTooltip = null === dataFromTooltip || void 0 === dataFromTooltip ? void 0 : dataFromTooltip.appointment;\n\n    var itemDataFromGrid = this.appointments._getItemData(appointmentElement);\n\n    return itemDataFromTooltip || itemDataFromGrid;\n  };\n\n  _proto.getItemSettings = function (appointment) {\n    var itemData = (0, _renderer.default)(appointment).data(_constants.LIST_ITEM_DATA_KEY);\n    return itemData && itemData.settings || [];\n  };\n\n  _proto.createDragStartHandler = function (options, appointmentDragging) {\n    var _this = this;\n\n    return function (e) {\n      e.itemData = _this.getItemData(e.itemElement);\n      e.itemSettings = _this.getItemSettings(e.itemElement);\n      appointmentDragging.onDragStart && appointmentDragging.onDragStart(e);\n\n      if (!e.cancel) {\n        options.onDragStart(e);\n      }\n    };\n  };\n\n  _proto.createDragMoveHandler = function (options, appointmentDragging) {\n    return function (e) {\n      appointmentDragging.onDragMove && appointmentDragging.onDragMove(e);\n\n      if (!e.cancel) {\n        options.onDragMove(e);\n      }\n    };\n  };\n\n  _proto.createDragEndHandler = function (options, appointmentDragging) {\n    var _this2 = this;\n\n    return function (e) {\n      _this2.appointmentInfo = null;\n      appointmentDragging.onDragEnd && appointmentDragging.onDragEnd(e);\n\n      if (!e.cancel) {\n        options.onDragEnd(e);\n\n        if (e.fromComponent !== e.toComponent) {\n          appointmentDragging.onRemove && appointmentDragging.onRemove(e);\n        }\n      }\n    };\n  };\n\n  _proto.createDropHandler = function (appointmentDragging) {\n    var _this3 = this;\n\n    return function (e) {\n      var updatedData = _this3.appointments.invoke(\"getUpdatedData\", e.itemData);\n\n      e.itemData = (0, _extend.extend)({}, e.itemData, updatedData);\n\n      if (e.fromComponent !== e.toComponent) {\n        appointmentDragging.onAdd && appointmentDragging.onAdd(e);\n      }\n    };\n  };\n\n  _proto.addTo = function (container, config) {\n    var appointmentDragging = this.scheduler.option(\"appointmentDragging\") || {};\n    var options = (0, _extend.extend)({\n      component: this.scheduler,\n      contentTemplate: null,\n      filter: \".\".concat(APPOINTMENT_ITEM_CLASS),\n      immediate: false,\n      onDragStart: this.onDragStart.bind(this),\n      onDragMove: this.onDragMove.bind(this),\n      onDragEnd: this.onDragEnd.bind(this)\n    }, config);\n\n    this.appointments._createComponent(container, _draggable.default, (0, _extend.extend)({}, options, appointmentDragging, {\n      onDragStart: this.createDragStartHandler(options, appointmentDragging),\n      onDragMove: this.createDragMoveHandler(options, appointmentDragging),\n      onDragEnd: this.createDragEndHandler(options, appointmentDragging),\n      onDrop: this.createDropHandler(appointmentDragging)\n    }));\n  };\n\n  _proto.updateDragSource = function (appointment, settings) {\n    var appointmentInfo = this.appointmentInfo;\n\n    if (appointmentInfo || appointment) {\n      var currentAppointment = appointment || appointmentInfo.appointment;\n      var currentSettings = settings || appointmentInfo.settings;\n\n      this.appointments._setDragSourceAppointment(currentAppointment, currentSettings);\n    }\n  };\n\n  return AppointmentDragBehavior;\n}();\n\nexports.default = AppointmentDragBehavior;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/appointmentDragBehavior.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_draggable","_extend","_constants","obj","__esModule","APPOINTMENT_ITEM_CLASS","AppointmentDragBehavior","scheduler","appointments","_appointments","initialPosition","left","top","appointmentInfo","_proto","prototype","isAllDay","appointment","data","allDay","onDragStart","e","itemSettings","itemData","settings","notifyObserver","onDragMove","fromComponent","toComponent","getAppointmentElement","itemElement","event","onDragEnd","element","rawAppointment","_getItemData","container","_getAppointmentContainer","append","coordinates","getItemData","appointmentElement","dataFromTooltip","LIST_ITEM_DATA_KEY","itemDataFromTooltip","itemDataFromGrid","getItemSettings","createDragStartHandler","options","appointmentDragging","_this","cancel","createDragMoveHandler","createDragEndHandler","_this2","onRemove","createDropHandler","_this3","updatedData","invoke","extend","onAdd","addTo","config","option","component","contentTemplate","filter","concat","immediate","bind","_createComponent","onDrop","updateDragSource","currentAppointment","currentSettings","_setDragSourceAppointment","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/appointmentDragBehavior.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../../core/renderer\"));\r\nvar _draggable = _interopRequireDefault(require(\"../draggable\"));\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _constants = require(\"./constants\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar APPOINTMENT_ITEM_CLASS = \"dx-scheduler-appointment\";\r\nvar AppointmentDragBehavior = function() {\r\n    function AppointmentDragBehavior(scheduler) {\r\n        this.scheduler = scheduler;\r\n        this.appointments = scheduler._appointments;\r\n        this.initialPosition = {\r\n            left: 0,\r\n            top: 0\r\n        };\r\n        this.appointmentInfo = null\r\n    }\r\n    var _proto = AppointmentDragBehavior.prototype;\r\n    _proto.isAllDay = function(appointment) {\r\n        return appointment.data(\"dxAppointmentSettings\").allDay\r\n    };\r\n    _proto.onDragStart = function(e) {\r\n        var itemSettings = e.itemSettings,\r\n            itemData = e.itemData,\r\n            initialPosition = e.initialPosition;\r\n        this.initialPosition = initialPosition;\r\n        this.appointmentInfo = {\r\n            appointment: itemData,\r\n            settings: itemSettings\r\n        };\r\n        this.appointments.notifyObserver(\"hideAppointmentTooltip\")\r\n    };\r\n    _proto.onDragMove = function(e) {\r\n        if (e.fromComponent !== e.toComponent) {\r\n            this.appointments.notifyObserver(\"removeDroppableCellClass\")\r\n        }\r\n    };\r\n    _proto.getAppointmentElement = function(e) {\r\n        var itemElement = e.event.data && e.event.data.itemElement || e.itemElement;\r\n        return (0, _renderer.default)(itemElement)\r\n    };\r\n    _proto.onDragEnd = function(e) {\r\n        var element = this.getAppointmentElement(e);\r\n        var rawAppointment = this.appointments._getItemData(element);\r\n        var container = this.appointments._getAppointmentContainer(this.isAllDay(element));\r\n        container.append(element);\r\n        this.appointments.notifyObserver(\"updateAppointmentAfterDrag\", {\r\n            event: e,\r\n            element: element,\r\n            rawAppointment: rawAppointment,\r\n            coordinates: this.initialPosition\r\n        })\r\n    };\r\n    _proto.getItemData = function(appointmentElement) {\r\n        var dataFromTooltip = (0, _renderer.default)(appointmentElement).data(_constants.LIST_ITEM_DATA_KEY);\r\n        var itemDataFromTooltip = null === dataFromTooltip || void 0 === dataFromTooltip ? void 0 : dataFromTooltip.appointment;\r\n        var itemDataFromGrid = this.appointments._getItemData(appointmentElement);\r\n        return itemDataFromTooltip || itemDataFromGrid\r\n    };\r\n    _proto.getItemSettings = function(appointment) {\r\n        var itemData = (0, _renderer.default)(appointment).data(_constants.LIST_ITEM_DATA_KEY);\r\n        return itemData && itemData.settings || []\r\n    };\r\n    _proto.createDragStartHandler = function(options, appointmentDragging) {\r\n        var _this = this;\r\n        return function(e) {\r\n            e.itemData = _this.getItemData(e.itemElement);\r\n            e.itemSettings = _this.getItemSettings(e.itemElement);\r\n            appointmentDragging.onDragStart && appointmentDragging.onDragStart(e);\r\n            if (!e.cancel) {\r\n                options.onDragStart(e)\r\n            }\r\n        }\r\n    };\r\n    _proto.createDragMoveHandler = function(options, appointmentDragging) {\r\n        return function(e) {\r\n            appointmentDragging.onDragMove && appointmentDragging.onDragMove(e);\r\n            if (!e.cancel) {\r\n                options.onDragMove(e)\r\n            }\r\n        }\r\n    };\r\n    _proto.createDragEndHandler = function(options, appointmentDragging) {\r\n        var _this2 = this;\r\n        return function(e) {\r\n            _this2.appointmentInfo = null;\r\n            appointmentDragging.onDragEnd && appointmentDragging.onDragEnd(e);\r\n            if (!e.cancel) {\r\n                options.onDragEnd(e);\r\n                if (e.fromComponent !== e.toComponent) {\r\n                    appointmentDragging.onRemove && appointmentDragging.onRemove(e)\r\n                }\r\n            }\r\n        }\r\n    };\r\n    _proto.createDropHandler = function(appointmentDragging) {\r\n        var _this3 = this;\r\n        return function(e) {\r\n            var updatedData = _this3.appointments.invoke(\"getUpdatedData\", e.itemData);\r\n            e.itemData = (0, _extend.extend)({}, e.itemData, updatedData);\r\n            if (e.fromComponent !== e.toComponent) {\r\n                appointmentDragging.onAdd && appointmentDragging.onAdd(e)\r\n            }\r\n        }\r\n    };\r\n    _proto.addTo = function(container, config) {\r\n        var appointmentDragging = this.scheduler.option(\"appointmentDragging\") || {};\r\n        var options = (0, _extend.extend)({\r\n            component: this.scheduler,\r\n            contentTemplate: null,\r\n            filter: \".\".concat(APPOINTMENT_ITEM_CLASS),\r\n            immediate: false,\r\n            onDragStart: this.onDragStart.bind(this),\r\n            onDragMove: this.onDragMove.bind(this),\r\n            onDragEnd: this.onDragEnd.bind(this)\r\n        }, config);\r\n        this.appointments._createComponent(container, _draggable.default, (0, _extend.extend)({}, options, appointmentDragging, {\r\n            onDragStart: this.createDragStartHandler(options, appointmentDragging),\r\n            onDragMove: this.createDragMoveHandler(options, appointmentDragging),\r\n            onDragEnd: this.createDragEndHandler(options, appointmentDragging),\r\n            onDrop: this.createDropHandler(appointmentDragging)\r\n        }))\r\n    };\r\n    _proto.updateDragSource = function(appointment, settings) {\r\n        var appointmentInfo = this.appointmentInfo;\r\n        if (appointmentInfo || appointment) {\r\n            var currentAppointment = appointment || appointmentInfo.appointment;\r\n            var currentSettings = settings || appointmentInfo.settings;\r\n            this.appointments._setDragSourceAppointment(currentAppointment, currentSettings)\r\n        }\r\n    };\r\n    return AppointmentDragBehavior\r\n}();\r\nexports.default = AppointmentDragBehavior;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}