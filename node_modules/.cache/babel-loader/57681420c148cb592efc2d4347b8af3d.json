{"ast":null,"code":"/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _type = require(\"../../../core/utils/type\");\n\nvar COLLECTOR_DEFAULT_WIDTH = 24;\nvar COLLECTOR_DEFAULT_OFFSET = 3;\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET = 22;\nvar APPOINTMENT_MIN_COUNT = 1;\nvar APPOINTMENT_DEFAULT_WIDTH = 40;\nvar COLLECTOR_WIDTH_IN_PERCENTS = 75;\nvar APPOINTMENT_INCREASED_WIDTH = 50;\n\nvar AppointmentPositioningStrategy = function () {\n  function AppointmentPositioningStrategy(renderingStrategy) {\n    this._renderingStrategy = renderingStrategy;\n  }\n\n  var _proto = AppointmentPositioningStrategy.prototype;\n\n  _proto.getRenderingStrategy = function () {\n    return this._renderingStrategy;\n  };\n\n  _proto.getDropDownAppointmentWidth = function (intervalCount, isAllDay) {\n    if (isAllDay || !(0, _type.isDefined)(isAllDay)) {\n      return COLLECTOR_WIDTH_IN_PERCENTS * this.getRenderingStrategy().getDefaultCellWidth() / 100;\n    } else {\n      return COLLECTOR_DEFAULT_WIDTH;\n    }\n  };\n\n  _proto.getCollectorTopOffset = function () {\n    return COLLECTOR_DEFAULT_OFFSET;\n  };\n\n  _proto.getCollectorLeftOffset = function () {\n    return COLLECTOR_DEFAULT_OFFSET;\n  };\n\n  _proto.getAppointmentDefaultOffset = function () {\n    if (this.getRenderingStrategy()._isCompactTheme()) {\n      return COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET;\n    }\n\n    return this.getRenderingStrategy().instance.option(\"_appointmentOffset\");\n  };\n\n  _proto.getDynamicAppointmentCountPerCell = function () {\n    var renderingStrategy = this.getRenderingStrategy();\n    var cellHeight = renderingStrategy.instance.fire(\"getCellHeight\");\n\n    var allDayCount = Math.floor((cellHeight - renderingStrategy._getAppointmentDefaultOffset()) / renderingStrategy._getAppointmentDefaultHeight()) || this._getAppointmentMinCount();\n\n    if (renderingStrategy.hasAllDayAppointments()) {\n      return {\n        allDay: \"vertical\" === renderingStrategy.instance._groupOrientation ? allDayCount : renderingStrategy.instance.option(\"_appointmentCountPerCell\"),\n        simple: this._calculateDynamicAppointmentCountPerCell() || this._getAppointmentMinCount()\n      };\n    } else {\n      return allDayCount;\n    }\n  };\n\n  _proto.getDropDownAppointmentHeight = function () {\n    return;\n  };\n\n  _proto._getAppointmentMinCount = function () {\n    return APPOINTMENT_MIN_COUNT;\n  };\n\n  _proto._calculateDynamicAppointmentCountPerCell = function () {\n    return Math.floor(this.getRenderingStrategy()._getAppointmentMaxWidth() / APPOINTMENT_INCREASED_WIDTH);\n  };\n\n  _proto._getAppointmentDefaultWidth = function () {\n    return APPOINTMENT_DEFAULT_WIDTH;\n  };\n\n  return AppointmentPositioningStrategy;\n}();\n\nvar _default = AppointmentPositioningStrategy;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/home/emma/node_modules/devextreme/ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js"],"names":["exports","default","_type","require","COLLECTOR_DEFAULT_WIDTH","COLLECTOR_DEFAULT_OFFSET","COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET","APPOINTMENT_MIN_COUNT","APPOINTMENT_DEFAULT_WIDTH","COLLECTOR_WIDTH_IN_PERCENTS","APPOINTMENT_INCREASED_WIDTH","AppointmentPositioningStrategy","renderingStrategy","_renderingStrategy","_proto","prototype","getRenderingStrategy","getDropDownAppointmentWidth","intervalCount","isAllDay","isDefined","getDefaultCellWidth","getCollectorTopOffset","getCollectorLeftOffset","getAppointmentDefaultOffset","_isCompactTheme","instance","option","getDynamicAppointmentCountPerCell","cellHeight","fire","allDayCount","Math","floor","_getAppointmentDefaultOffset","_getAppointmentDefaultHeight","_getAppointmentMinCount","hasAllDayAppointments","allDay","_groupOrientation","simple","_calculateDynamicAppointmentCountPerCell","getDropDownAppointmentHeight","_getAppointmentMaxWidth","_getAppointmentDefaultWidth","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scheduler/rendering_strategies/ui.scheduler.appointmentsPositioning.strategy.base.js)\r\n * Version: 20.2.7\r\n * Build date: Thu Apr 22 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _type = require(\"../../../core/utils/type\");\r\nvar COLLECTOR_DEFAULT_WIDTH = 24;\r\nvar COLLECTOR_DEFAULT_OFFSET = 3;\r\nvar COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET = 22;\r\nvar APPOINTMENT_MIN_COUNT = 1;\r\nvar APPOINTMENT_DEFAULT_WIDTH = 40;\r\nvar COLLECTOR_WIDTH_IN_PERCENTS = 75;\r\nvar APPOINTMENT_INCREASED_WIDTH = 50;\r\nvar AppointmentPositioningStrategy = function() {\r\n    function AppointmentPositioningStrategy(renderingStrategy) {\r\n        this._renderingStrategy = renderingStrategy\r\n    }\r\n    var _proto = AppointmentPositioningStrategy.prototype;\r\n    _proto.getRenderingStrategy = function() {\r\n        return this._renderingStrategy\r\n    };\r\n    _proto.getDropDownAppointmentWidth = function(intervalCount, isAllDay) {\r\n        if (isAllDay || !(0, _type.isDefined)(isAllDay)) {\r\n            return COLLECTOR_WIDTH_IN_PERCENTS * this.getRenderingStrategy().getDefaultCellWidth() / 100\r\n        } else {\r\n            return COLLECTOR_DEFAULT_WIDTH\r\n        }\r\n    };\r\n    _proto.getCollectorTopOffset = function() {\r\n        return COLLECTOR_DEFAULT_OFFSET\r\n    };\r\n    _proto.getCollectorLeftOffset = function() {\r\n        return COLLECTOR_DEFAULT_OFFSET\r\n    };\r\n    _proto.getAppointmentDefaultOffset = function() {\r\n        if (this.getRenderingStrategy()._isCompactTheme()) {\r\n            return COMPACT_THEME_APPOINTMENT_DEFAULT_OFFSET\r\n        }\r\n        return this.getRenderingStrategy().instance.option(\"_appointmentOffset\")\r\n    };\r\n    _proto.getDynamicAppointmentCountPerCell = function() {\r\n        var renderingStrategy = this.getRenderingStrategy();\r\n        var cellHeight = renderingStrategy.instance.fire(\"getCellHeight\");\r\n        var allDayCount = Math.floor((cellHeight - renderingStrategy._getAppointmentDefaultOffset()) / renderingStrategy._getAppointmentDefaultHeight()) || this._getAppointmentMinCount();\r\n        if (renderingStrategy.hasAllDayAppointments()) {\r\n            return {\r\n                allDay: \"vertical\" === renderingStrategy.instance._groupOrientation ? allDayCount : renderingStrategy.instance.option(\"_appointmentCountPerCell\"),\r\n                simple: this._calculateDynamicAppointmentCountPerCell() || this._getAppointmentMinCount()\r\n            }\r\n        } else {\r\n            return allDayCount\r\n        }\r\n    };\r\n    _proto.getDropDownAppointmentHeight = function() {\r\n        return\r\n    };\r\n    _proto._getAppointmentMinCount = function() {\r\n        return APPOINTMENT_MIN_COUNT\r\n    };\r\n    _proto._calculateDynamicAppointmentCountPerCell = function() {\r\n        return Math.floor(this.getRenderingStrategy()._getAppointmentMaxWidth() / APPOINTMENT_INCREASED_WIDTH)\r\n    };\r\n    _proto._getAppointmentDefaultWidth = function() {\r\n        return APPOINTMENT_DEFAULT_WIDTH\r\n    };\r\n    return AppointmentPositioningStrategy\r\n}();\r\nvar _default = AppointmentPositioningStrategy;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}